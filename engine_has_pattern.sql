-- MySQL dump 10.13  Distrib 5.7.12, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: engine_has_pattern
-- ------------------------------------------------------
-- Server version	5.7.16-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `equity_data_has_pattern`
--

DROP TABLE IF EXISTS `equity_data_has_pattern`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `equity_data_has_pattern` (
  `ROW_ID` int(5) NOT NULL AUTO_INCREMENT,
  `SYMBOL` varchar(45) NOT NULL,
  `CURR_DATE` date NOT NULL,
  `PREV_CLOSE` float(10,2) DEFAULT NULL,
  `OPEN_PRICE` float(10,2) DEFAULT NULL,
  `HIGH_PRICE` float(10,2) DEFAULT NULL,
  `LOW_PRICE` float(10,2) DEFAULT NULL,
  `LAST_PRICE` float(10,2) DEFAULT NULL,
  `CLOSE_PRICE` float(10,2) DEFAULT NULL,
  `AVERAGE_PRICE` float(10,2) DEFAULT NULL,
  `TOTAL_TRADED_QUANTITY` float(20,2) DEFAULT NULL,
  `TURNOVER` float(20,2) DEFAULT NULL,
  `NO_OF_TRADES` int(11) DEFAULT NULL,
  `DELIVERABLE_QTY` int(11) DEFAULT NULL,
  `PERCENT_DELIVERABLE_QTY` float(10,2) DEFAULT NULL,
  PRIMARY KEY (`ROW_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=512 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `equity_data_has_pattern`
--

LOCK TABLES `equity_data_has_pattern` WRITE;
/*!40000 ALTER TABLE `equity_data_has_pattern` DISABLE KEYS */;
INSERT INTO `equity_data_has_pattern` VALUES (1,'SBIN','2015-06-01',278.15,278.65,282.00,277.55,278.20,278.20,279.63,11567692.00,3234686720.00,103433,5711324,49.37),(2,'SBIN','2015-06-02',278.20,278.80,279.45,265.35,266.50,266.25,271.93,21653784.00,5888406016.00,205264,7275006,33.60),(3,'SBIN','2015-06-03',266.25,267.00,267.30,255.05,258.25,257.40,259.44,25967876.00,6737182208.00,242044,13002088,50.07),(4,'SBIN','2015-06-04',257.40,259.90,261.40,253.75,257.70,257.60,257.36,20210546.00,5201373696.00,151143,8787871,43.48),(5,'SBIN','2015-06-05',257.60,257.00,262.00,255.60,257.40,257.80,259.24,13539638.00,3509961728.00,124006,4314959,31.87),(6,'SBIN','2015-06-08',257.80,258.75,258.75,252.55,254.85,254.95,254.73,17384700.00,4428363776.00,113334,9921362,57.07),(7,'SBIN','2015-06-09',254.95,255.00,258.30,254.00,258.00,257.60,256.02,15275972.00,3911021568.00,117016,7188867,47.06),(8,'SBIN','2015-06-10',257.60,259.00,262.55,258.50,260.65,260.60,260.97,10910978.00,2847434752.00,88519,4351167,39.88),(9,'SBIN','2015-06-11',260.60,262.25,262.95,252.65,254.10,254.00,255.89,20857622.00,5337166336.00,139105,10202245,48.91),(10,'SBIN','2015-06-12',254.00,254.05,255.50,251.80,254.45,253.95,253.75,11440479.00,2903040768.00,89672,4605208,40.25),(11,'SBIN','2015-06-15',253.95,255.00,255.60,248.85,249.65,250.25,251.45,13545280.00,3405975296.00,113461,5502753,40.62),(12,'SBIN','2015-06-16',250.25,250.25,255.75,249.00,255.35,254.60,252.01,9896598.00,2494008320.00,105299,3596184,36.34),(13,'SBIN','2015-06-17',254.60,256.00,256.90,253.50,255.35,255.10,255.43,11241061.00,2871300096.00,92549,5161551,45.92),(14,'SBIN','2015-06-18',255.10,256.45,260.70,255.20,258.15,258.10,258.18,11598549.00,2994500608.00,87436,4891999,42.18),(15,'SBIN','2015-06-19',258.10,259.90,263.10,258.15,260.30,260.15,260.38,12216399.00,3180952576.00,97113,5205883,42.61),(16,'SBIN','2015-06-22',260.15,260.90,267.40,260.80,266.50,266.00,264.95,11051382.00,2928051456.00,115204,3468787,31.39),(17,'SBIN','2015-06-23',266.00,269.40,271.20,266.25,267.30,267.75,268.64,16180083.00,4346565120.00,120863,7106508,43.92),(18,'SBIN','2015-06-24',267.75,267.70,267.90,260.50,261.20,262.35,265.18,8361760.00,2217364736.00,75339,2655222,31.75),(19,'SBIN','2015-06-25',262.35,261.25,266.00,259.05,265.00,264.80,263.60,16506503.00,4351039488.00,100903,8298462,50.27),(20,'SBIN','2015-06-26',264.80,264.10,266.90,261.05,265.40,265.20,263.71,14588452.00,3847106048.00,98899,8497919,58.25),(21,'SBIN','2015-06-29',265.20,258.75,260.80,255.00,260.30,259.65,257.54,15040805.00,3873650432.00,105813,7262781,48.29),(22,'SBIN','2015-06-30',259.65,259.25,263.35,257.60,263.00,262.75,261.01,14181965.00,3701696000.00,85628,6736393,47.50),(23,'SBIN','2015-07-01',262.75,263.10,269.50,262.55,267.60,267.75,266.63,12072024.00,3218792448.00,91610,3342760,27.69),(24,'SBIN','2015-07-02',267.75,267.90,271.25,266.10,268.10,267.85,268.59,8741783.00,2347918848.00,84937,2653914,30.36),(25,'SBIN','2015-07-03',267.85,267.35,270.00,266.80,269.45,269.40,268.55,7238541.00,1943897600.00,59501,2101416,29.03),(26,'SBIN','2015-07-06',269.40,263.20,271.50,262.00,271.45,270.80,266.67,9458200.00,2522212608.00,75916,2406764,25.45),(27,'SBIN','2015-07-07',270.80,270.40,274.65,270.00,273.80,272.90,272.60,12523410.00,3413843712.00,106296,6386313,50.99),(28,'SBIN','2015-07-08',272.90,269.90,271.00,265.60,266.70,267.35,268.16,12669850.00,3397578752.00,85347,4992880,39.41),(29,'SBIN','2015-07-09',267.35,267.00,271.30,267.00,268.00,267.75,269.06,6469504.00,1740686592.00,57699,1536301,23.75),(30,'SBIN','2015-07-10',267.75,270.25,271.00,266.25,270.45,270.55,269.42,8788162.00,2367748608.00,77565,2731650,31.08),(31,'SBIN','2015-07-13',270.55,272.00,274.35,267.90,273.50,273.70,271.57,8423083.00,2287470592.00,80546,2023632,24.02),(32,'SBIN','2015-07-14',273.70,273.60,273.60,267.15,268.05,268.20,270.43,10337307.00,2795541504.00,93984,4931598,47.71),(33,'SBIN','2015-07-15',268.20,268.75,271.70,267.15,268.60,268.05,269.25,7483918.00,2015037056.00,59970,2971179,39.70),(34,'SBIN','2015-07-16',268.05,269.75,272.75,268.10,272.40,272.20,270.46,8354120.00,2259433472.00,59028,3063941,36.68),(35,'SBIN','2015-07-17',272.20,272.40,274.00,270.50,271.65,271.10,271.97,5571891.00,1515366144.00,49465,1807521,32.44),(36,'SBIN','2015-07-20',271.10,272.00,272.00,266.15,267.10,267.45,267.96,6418930.00,1720017920.00,53325,2280831,35.53),(37,'SBIN','2015-07-21',267.45,267.00,269.80,263.50,264.50,264.30,266.69,5638653.00,1503769344.00,50543,1795517,31.84),(38,'SBIN','2015-07-22',264.30,263.70,269.40,261.90,268.75,268.55,265.52,11322177.00,3006308608.00,83774,6315769,55.78),(39,'SBIN','2015-07-23',268.55,268.50,272.00,267.25,270.05,270.05,269.58,6376216.00,1718918528.00,57972,2188031,34.32),(40,'SBIN','2015-07-24',270.05,268.70,270.35,262.10,263.70,263.25,266.35,7796401.00,2076559360.00,68514,3444682,44.18),(41,'SBIN','2015-07-27',263.25,263.20,263.40,258.05,258.50,258.45,260.09,6788558.00,1765626240.00,71666,2797401,41.21),(42,'SBIN','2015-07-28',258.45,260.25,263.90,258.35,259.25,259.20,260.41,10788886.00,2809518080.00,102534,5620110,52.09),(43,'SBIN','2015-07-29',259.20,260.00,260.70,252.30,253.65,253.60,255.59,9997136.00,2555150336.00,91282,4226586,42.28),(44,'SBIN','2015-07-30',253.60,253.60,259.50,253.60,257.85,256.80,256.92,10536937.00,2707124992.00,68531,4203708,39.89),(45,'SBIN','2015-07-31',256.80,258.00,273.75,257.55,269.30,270.05,268.01,20534806.00,5503587328.00,162026,8361235,40.72),(46,'SBIN','2015-08-03',270.05,270.00,283.00,269.90,281.25,281.05,279.67,21901780.00,6125372928.00,171677,8746287,39.93),(47,'SBIN','2015-08-04',281.05,282.50,289.95,276.40,289.00,288.60,284.26,28858888.00,8203513856.00,202238,10818026,37.49),(48,'SBIN','2015-08-05',288.60,289.10,291.80,284.25,284.95,285.40,287.86,10169558.00,2927439616.00,91399,2960655,29.11),(49,'SBIN','2015-08-06',285.40,285.60,290.80,282.00,290.00,289.05,286.91,15372143.00,4410468864.00,113784,7685472,50.00),(50,'SBIN','2015-08-07',289.05,288.50,288.50,280.20,281.95,281.30,283.86,13845614.00,3930244096.00,134570,7110364,51.35),(51,'SBIN','2015-08-10',281.30,282.05,286.00,280.10,282.50,282.75,283.70,14694901.00,4168991232.00,96782,7583766,51.61),(52,'SBIN','2015-08-11',282.75,285.80,289.45,267.50,267.90,268.80,277.32,39233644.00,10880199680.00,321749,10588643,26.99),(53,'SBIN','2015-08-12',268.80,267.45,267.45,255.05,256.15,256.35,260.92,29724324.00,7755746816.00,207677,16110536,54.20),(54,'SBIN','2015-08-13',256.35,259.75,262.85,258.15,260.40,259.30,260.31,16360033.00,4258627584.00,132908,7260471,44.38),(55,'SBIN','2015-08-14',259.30,261.90,269.40,259.25,268.50,268.50,265.01,14852873.00,3936127488.00,126941,4129121,27.80),(56,'SBIN','2015-08-17',268.50,272.00,281.90,270.80,279.20,279.75,277.74,27500064.00,7637832192.00,224897,10819359,39.34),(57,'SBIN','2015-08-18',279.75,280.80,288.00,275.55,284.75,284.80,283.46,27728824.00,7859917312.00,223393,11748890,42.37),(58,'SBIN','2015-08-19',284.80,283.90,285.95,275.55,278.40,278.00,280.60,15452575.00,4335992832.00,149258,5449022,35.26),(59,'SBIN','2015-08-20',278.00,277.65,281.65,268.00,270.00,270.55,274.01,14577599.00,3994370560.00,118110,4672039,32.05),(60,'SBIN','2015-08-21',270.55,261.50,268.90,256.20,267.05,267.50,263.00,19030056.00,5004965376.00,161875,7052850,37.06),(61,'SBIN','2015-08-24',267.50,254.70,257.70,242.40,243.90,245.40,252.16,29561704.00,7454137344.00,247643,12870857,43.54),(62,'SBIN','2015-08-25',245.40,250.00,254.80,240.00,254.20,253.35,249.30,23492840.00,5856737792.00,202892,7841098,33.38),(63,'SBIN','2015-08-26',253.35,252.50,253.30,245.00,245.75,245.70,248.55,16325529.00,4057678080.00,152198,5954197,36.47),(64,'SBIN','2015-08-27',245.70,251.15,252.00,248.10,249.15,249.45,249.86,21076926.00,5266344448.00,127816,11360023,53.90),(65,'SBIN','2015-08-28',249.45,254.50,255.90,247.45,248.50,248.95,252.08,16644381.00,4195788800.00,138473,5812100,34.92),(66,'SBIN','2015-08-31',248.95,249.00,251.35,245.00,247.00,247.35,248.07,21645114.00,5369451520.00,138355,8027845,37.09),(67,'SBIN','2015-09-01',247.35,244.85,244.85,237.70,239.30,239.10,240.53,19689080.00,4735774720.00,171521,7453161,37.85),(68,'SBIN','2015-09-02',239.10,242.65,243.00,230.10,230.35,230.55,234.21,23655456.00,5540317184.00,202382,7928836,33.52),(69,'SBIN','2015-09-03',230.55,232.65,235.40,231.00,231.85,232.25,232.94,14680299.00,3419690752.00,123875,4207804,28.66),(70,'SBIN','2015-09-04',232.25,231.90,231.90,224.00,225.00,225.15,226.12,20466346.00,4627819008.00,180922,7271427,35.53),(71,'SBIN','2015-09-07',225.15,227.10,227.50,220.15,221.10,221.10,224.11,15424783.00,3456917248.00,170823,4118372,26.70),(72,'SBIN','2015-09-08',221.10,223.00,230.25,221.15,228.05,228.35,226.27,16189253.00,3663177984.00,149759,3908614,24.14),(73,'SBIN','2015-09-09',228.35,233.95,234.50,229.10,231.20,231.65,232.22,18237116.00,4235060992.00,121876,6695090,36.71),(74,'SBIN','2015-09-10',231.65,227.35,229.80,224.10,229.60,227.45,226.04,14195882.00,3208874496.00,117419,4234502,29.83),(75,'SBIN','2015-09-11',227.45,230.90,233.30,228.00,230.50,230.10,230.80,13650937.00,3150573824.00,105226,3744398,27.43),(76,'SBIN','2015-09-14',230.10,231.55,236.00,230.00,235.30,235.25,233.36,10671222.00,2490210048.00,84874,3029759,28.39),(77,'SBIN','2015-09-15',235.25,235.20,238.45,232.65,232.90,234.00,235.23,13193410.00,3103447808.00,112433,3992450,30.26),(78,'SBIN','2015-09-16',234.00,236.40,237.75,235.00,236.85,236.80,236.38,11272509.00,2664599552.00,70760,4297330,38.12),(79,'SBIN','2015-09-18',236.80,240.00,246.45,239.50,240.70,242.00,243.58,16049395.00,3909275392.00,132524,4918010,30.64),(80,'SBIN','2015-09-21',242.00,239.55,246.00,237.25,245.75,245.25,242.60,9602436.00,2329533952.00,84490,1672108,17.41),(81,'SBIN','2015-09-22',245.25,247.95,248.45,236.25,237.60,237.95,242.99,13667322.00,3321054976.00,110945,4297437,31.44),(82,'SBIN','2015-09-23',237.95,235.00,241.90,233.60,240.35,239.85,238.33,13614082.00,3244638976.00,102490,3671583,26.97),(83,'SBIN','2015-09-24',239.85,239.45,241.45,238.05,239.45,239.05,239.63,9299508.00,2228434688.00,72488,2420938,26.03),(84,'SBIN','2015-09-28',239.05,241.00,243.65,238.65,240.90,239.45,241.43,8588230.00,2073481984.00,70451,1825740,21.26),(85,'SBIN','2015-09-29',239.45,236.00,245.40,232.20,241.60,241.90,240.62,24488684.00,5892390912.00,173990,5403503,22.07),(86,'SBIN','2015-09-30',241.90,244.85,245.40,235.70,237.95,237.15,239.27,17011912.00,4070514688.00,129082,5875189,34.54),(87,'SBIN','2015-10-01',237.15,241.20,241.90,234.40,235.50,235.15,237.28,11590498.00,2750146304.00,79332,3360918,29.00),(88,'SBIN','2015-10-05',235.15,238.10,241.35,237.25,241.20,240.00,239.63,18307464.00,4387085824.00,76607,10157446,55.48),(89,'SBIN','2015-10-06',240.00,242.70,242.80,237.70,239.95,240.10,240.17,10087077.00,2422565632.00,73164,2893203,28.68),(90,'SBIN','2015-10-07',240.10,240.15,244.25,239.05,243.65,243.55,242.42,10608795.00,2571813376.00,78909,2611552,24.62),(91,'SBIN','2015-10-08',243.55,242.45,245.20,241.10,243.50,243.30,243.17,9230511.00,2244606464.00,76269,2343586,25.39),(92,'SBIN','2015-10-09',243.30,245.50,247.80,240.65,242.90,243.45,244.94,12171416.00,2981319936.00,105441,4413072,36.26),(93,'SBIN','2015-10-12',243.45,244.10,245.65,241.30,244.15,244.55,244.27,7566962.00,1848345472.00,57702,2819307,37.26),(94,'SBIN','2015-10-13',244.55,244.00,247.50,242.05,243.90,243.80,244.56,10200698.00,2494711808.00,73013,4105359,40.25),(95,'SBIN','2015-10-14',243.80,243.70,246.80,243.20,245.00,244.25,244.82,7895820.00,1933055744.00,55278,3212893,40.69),(96,'SBIN','2015-10-15',244.25,246.00,249.90,245.50,249.05,248.95,248.42,11582401.00,2877244416.00,86325,3894772,33.63),(97,'SBIN','2015-10-16',248.95,249.85,257.15,248.35,256.80,254.85,251.84,11738832.00,2956324864.00,84407,3725598,31.74),(98,'SBIN','2015-10-19',254.85,256.65,257.10,253.50,254.05,254.50,255.14,8969153.00,2288375296.00,60162,3568861,39.79),(99,'SBIN','2015-10-20',254.50,254.50,257.10,253.20,254.80,254.85,255.05,8811740.00,2247392000.00,58553,3517593,39.92),(100,'SBIN','2015-10-21',254.85,254.00,255.90,248.55,249.40,249.80,251.41,8606466.00,2163720192.00,58318,2410439,28.01),(101,'SBIN','2015-10-23',249.80,253.00,254.85,252.00,253.15,253.40,253.43,7544810.00,1912097280.00,77411,2907459,38.54),(102,'SBIN','2015-10-26',253.40,254.75,256.00,250.35,251.40,251.25,253.24,13085058.00,3313622272.00,82870,5753097,43.97),(103,'SBIN','2015-10-27',251.25,250.10,252.20,248.10,248.40,248.80,250.09,6565348.00,1641911936.00,59563,2711105,41.29),(104,'SBIN','2015-10-28',248.80,248.00,249.45,241.20,241.70,242.05,243.96,12310403.00,3003224064.00,92805,5871480,47.70),(105,'SBIN','2015-10-29',242.05,241.50,241.80,236.45,237.00,236.95,238.58,16114932.00,3844694016.00,92417,7947307,49.32),(106,'SBIN','2015-10-30',236.95,238.70,240.40,235.10,237.25,237.05,237.93,8669606.00,2062774656.00,74888,3122553,36.02),(107,'SBIN','2015-11-02',237.05,238.00,238.00,232.70,237.45,236.90,235.49,7611610.00,1792459392.00,72432,1800392,23.65),(108,'SBIN','2015-11-03',236.90,239.35,239.70,235.00,236.55,235.95,237.25,8323201.00,1974696960.00,70852,2819673,33.88),(109,'SBIN','2015-11-04',235.95,239.20,240.50,237.00,238.85,239.00,238.81,8418352.00,2010386944.00,54933,3210999,38.14),(110,'SBIN','2015-11-05',239.00,238.00,239.00,233.10,234.00,233.90,236.12,8906564.00,2103032192.00,78782,2876222,32.29),(111,'SBIN','2015-11-06',233.90,235.60,244.80,233.00,243.90,243.00,241.02,30821076.00,7428582400.00,205921,5847777,18.97),(112,'SBIN','2015-11-09',243.00,236.00,248.30,235.60,245.65,246.10,244.83,22806484.00,5583806464.00,169076,8669018,38.01),(113,'SBIN','2015-11-10',246.10,244.90,247.25,240.10,241.30,241.20,243.15,11767845.00,2861354240.00,81141,2845909,24.18),(114,'SBIN','2015-11-11',241.20,243.00,244.25,242.55,243.20,243.15,243.28,2061681.00,501567840.00,24738,830764,40.30),(115,'SBIN','2015-11-13',243.15,241.50,241.80,237.70,240.30,240.25,239.92,9082062.00,2178937088.00,68168,2716416,29.91),(116,'SBIN','2015-11-16',240.25,239.50,249.35,239.10,249.00,248.30,245.34,14051479.00,3447347200.00,99089,4847882,34.50),(117,'SBIN','2015-11-17',248.30,250.00,251.65,246.70,247.60,247.85,248.93,11273394.00,2806306048.00,82525,2733402,24.25),(118,'SBIN','2015-11-18',247.85,247.60,248.70,239.45,240.45,241.00,243.75,10397889.00,2534511616.00,77659,2986573,28.72),(119,'SBIN','2015-11-19',241.00,243.05,245.00,241.40,244.25,243.90,243.54,7325199.00,1783978240.00,51700,1940649,26.49),(120,'SBIN','2015-11-20',243.90,243.95,249.90,242.00,243.00,242.95,245.51,13718619.00,3368019200.00,80095,4016945,29.28),(121,'SBIN','2015-11-23',242.95,243.90,245.25,240.55,242.60,242.70,243.15,10552151.00,2565804800.00,65107,3008834,28.51),(122,'SBIN','2015-11-24',242.70,242.50,244.00,240.60,241.60,241.40,242.47,6651669.00,1612833920.00,52769,1758561,26.44),(123,'SBIN','2015-11-26',241.40,241.95,244.90,241.00,243.50,242.50,243.10,13629888.00,3313401856.00,74502,6389328,46.88),(124,'SBIN','2015-11-27',242.50,243.00,250.50,242.80,249.60,249.70,247.42,15149912.00,3748351744.00,95949,5447738,35.96),(125,'SBIN','2015-11-30',249.70,249.65,253.00,245.00,248.65,250.20,250.91,12865469.00,3228127744.00,107373,6136099,47.69),(126,'SBIN','2015-12-01',250.20,250.85,251.90,249.30,249.95,250.20,250.54,9501537.00,2380516096.00,74258,2532816,26.66),(127,'SBIN','2015-12-02',250.20,250.55,250.65,243.75,244.55,244.60,245.93,10881754.00,2676155904.00,85982,3835915,35.25),(128,'SBIN','2015-12-03',244.60,244.15,244.50,240.40,241.50,241.10,242.52,7155630.00,1735388928.00,53130,2004524,28.01),(129,'SBIN','2015-12-04',241.10,240.00,242.15,238.05,241.75,241.10,240.27,11115170.00,2670611456.00,81492,4650194,41.84),(130,'SBIN','2015-12-07',241.10,242.95,242.95,238.00,238.90,238.65,239.77,7531729.00,1805861120.00,65807,2924376,38.83),(131,'SBIN','2015-12-08',238.65,238.10,239.95,235.30,235.40,235.95,237.46,8254434.00,1960116992.00,65633,3060162,37.07),(132,'SBIN','2015-12-09',235.95,235.40,238.20,233.60,235.00,234.40,235.80,7408777.00,1746990080.00,60770,2281810,30.80),(133,'SBIN','2015-12-10',234.40,236.00,236.75,230.60,232.00,231.95,232.64,11713559.00,2725084928.00,110656,4727421,40.36),(134,'SBIN','2015-12-11',231.95,232.90,233.90,225.10,227.20,227.30,228.87,12872949.00,2946294016.00,107212,3731130,28.98),(135,'SBIN','2015-12-14',227.30,224.90,227.70,224.00,225.60,225.95,225.97,12464883.00,2816646656.00,196552,4760215,38.19),(136,'SBIN','2015-12-15',225.95,227.00,227.15,224.00,226.00,226.40,225.50,10404430.00,2346223872.00,88956,4049571,38.92),(137,'SBIN','2015-12-16',226.40,227.75,229.60,225.25,227.20,227.30,227.63,13030720.00,2966149632.00,90557,5255900,40.33),(138,'SBIN','2015-12-17',227.30,230.00,232.40,228.50,231.00,230.90,230.70,14539096.00,3354140672.00,111133,5819355,40.03),(139,'SBIN','2015-12-18',230.90,229.95,232.35,225.80,226.25,226.50,228.89,18871084.00,4319445504.00,133177,10090333,53.47),(140,'SBIN','2015-12-21',226.50,226.90,231.00,226.50,230.50,230.45,229.56,9557098.00,2193929472.00,82470,3058303,32.00),(141,'SBIN','2015-12-22',230.45,231.65,232.25,227.50,228.65,228.35,230.09,9155574.00,2106647808.00,69702,3457655,37.77),(142,'SBIN','2015-12-23',228.35,230.25,231.00,228.90,229.75,229.65,230.10,7914311.00,1821091840.00,55788,3057822,38.64),(143,'SBIN','2015-12-24',229.65,230.85,231.00,227.60,228.50,228.30,228.67,7257958.00,1659698944.00,47333,2670535,36.79),(144,'SBIN','2015-12-28',228.30,229.05,229.95,228.00,228.60,228.90,228.99,8756879.00,2005222528.00,60826,4081164,46.61),(145,'SBIN','2015-12-29',228.90,228.85,229.95,227.50,228.40,228.20,228.69,7263286.00,1661012992.00,88491,3245714,44.69),(146,'SBIN','2015-12-30',228.20,229.00,229.70,224.85,225.95,225.80,226.98,11702877.00,2656287744.00,78824,5267755,45.01),(147,'SBIN','2015-12-31',225.80,225.95,226.55,224.00,224.75,224.45,224.86,11558305.00,2599041536.00,70055,5703494,49.35),(148,'SBIN','2016-01-01',224.45,225.00,228.90,224.50,227.75,227.80,226.94,6449426.00,1463600640.00,49529,1376633,21.35),(149,'SBIN','2016-01-04',227.80,226.95,226.95,220.05,221.10,220.70,222.80,14092071.00,3139744256.00,113875,5337291,37.87),(150,'SBIN','2016-01-05',220.70,222.80,222.80,217.00,217.75,217.75,219.46,15074848.00,3308361984.00,137290,6241116,41.40),(151,'SBIN','2016-01-06',217.75,217.90,219.90,216.40,217.00,216.85,218.00,11921123.00,2598851584.00,96992,3750530,31.46),(152,'SBIN','2016-01-07',216.85,214.00,214.10,209.00,209.75,209.55,210.81,14342279.00,3023488512.00,131516,5943545,41.44),(153,'SBIN','2016-01-08',209.55,212.00,212.50,208.60,208.90,208.95,209.90,11745840.00,2465445632.00,93167,5271984,44.88),(154,'SBIN','2016-01-11',208.95,206.80,207.50,202.65,204.95,204.30,204.70,19287860.00,3948218624.00,127131,8279250,42.92),(155,'SBIN','2016-01-12',204.30,204.85,205.00,198.60,199.60,199.40,201.27,20318816.00,4089639424.00,160629,7870525,38.74),(156,'SBIN','2016-01-13',199.40,201.35,202.40,194.00,201.20,200.90,199.04,23788248.00,4734784512.00,162555,8480922,35.65),(157,'SBIN','2016-01-14',200.90,197.00,201.50,194.30,195.85,196.05,197.76,20256636.00,4005991936.00,148958,6902124,34.07),(158,'SBIN','2016-01-15',196.05,197.80,197.80,181.00,183.30,184.30,189.55,29090426.00,5514120704.00,207300,11842577,40.71),(159,'SBIN','2016-01-18',184.30,184.90,188.15,179.15,180.85,181.00,183.50,35653244.00,6542261760.00,218962,12666569,35.53),(160,'SBIN','2016-01-19',181.00,182.15,187.80,181.50,183.50,182.95,184.33,24501774.00,4516339712.00,153915,8985848,36.67),(161,'SBIN','2016-01-20',182.95,180.65,180.65,171.50,173.55,173.65,175.17,28655794.00,5019493888.00,247132,9898232,34.54),(162,'SBIN','2016-01-21',173.65,177.00,178.65,172.05,176.20,175.60,175.34,28697204.00,5031862784.00,218633,9727017,33.90),(163,'SBIN','2016-01-22',175.60,179.90,185.40,178.30,184.65,184.60,182.62,21432408.00,3913915392.00,141051,6171382,28.79),(164,'SBIN','2016-01-25',184.60,187.90,188.80,182.50,182.80,182.95,185.41,17534650.00,3251080448.00,120763,7394303,42.17),(165,'SBIN','2016-01-27',182.95,184.40,186.20,181.05,184.00,184.40,184.03,16569813.00,3049399552.00,116934,5078517,30.65),(166,'SBIN','2016-01-28',184.40,184.20,185.90,182.50,185.75,185.25,184.54,20241030.00,3735335168.00,84669,8805278,43.50),(167,'SBIN','2016-01-29',185.25,184.20,185.75,178.10,179.55,179.90,180.55,24259148.00,4380071424.00,156963,9256118,38.16),(168,'SBIN','2016-02-01',179.90,181.95,181.95,172.10,172.90,172.75,175.47,22915268.00,4021007360.00,159984,8090322,35.31),(169,'SBIN','2016-02-02',172.75,173.10,177.40,168.60,168.90,169.40,172.63,35957332.00,6207324160.00,241010,7065437,19.65),(170,'SBIN','2016-02-03',169.40,167.80,167.80,163.25,166.85,166.05,165.82,24132004.00,4001491968.00,196005,7595019,31.47),(171,'SBIN','2016-02-04',166.05,169.30,169.80,160.20,164.00,162.85,164.85,23811108.00,3925151232.00,145796,5207340,21.87),(172,'SBIN','2016-02-05',162.85,163.70,169.30,162.20,168.80,168.20,166.31,22732244.00,3780668672.00,131919,7713016,33.93),(173,'SBIN','2016-02-08',168.20,169.45,176.90,168.55,171.40,172.15,173.81,22289004.00,3874016768.00,166535,5007365,22.47),(174,'SBIN','2016-02-09',172.15,168.00,172.40,166.10,167.30,167.05,168.90,19008384.00,3210602240.00,116605,2931677,15.42),(175,'SBIN','2016-02-10',167.05,165.00,166.20,158.00,159.00,159.00,161.79,32294784.00,5224865280.00,189650,13222447,40.94),(176,'SBIN','2016-02-11',159.00,159.50,167.50,152.20,154.60,154.25,159.23,72749832.00,11584246784.00,412974,13888236,19.09),(177,'SBIN','2016-02-12',154.25,156.15,157.65,148.25,154.45,154.80,152.21,41187888.00,6269136896.00,259269,10036234,24.37),(178,'SBIN','2016-02-15',154.80,159.00,170.00,158.00,167.40,167.85,165.37,35956264.00,5946004480.00,216295,9513571,26.46),(179,'SBIN','2016-02-16',167.85,170.75,170.75,155.65,156.35,156.40,161.86,33816244.00,5473634304.00,198775,7858511,23.24),(180,'SBIN','2016-02-17',156.40,155.00,159.85,151.25,159.65,158.95,155.99,32447698.00,5061596160.00,200965,5068204,15.62),(181,'SBIN','2016-02-18',158.95,161.95,163.70,156.40,159.00,159.80,160.01,21024178.00,3364140544.00,130870,3551875,16.89),(182,'SBIN','2016-02-19',159.80,157.90,165.30,157.10,164.95,164.70,162.94,24592576.00,4007070208.00,171593,6246258,25.40),(183,'SBIN','2016-02-22',164.70,165.95,166.80,163.70,165.00,164.95,165.08,15815058.00,2610753536.00,135649,4217430,26.67),(184,'SBIN','2016-02-23',164.95,165.00,165.00,158.00,158.60,158.50,160.42,20200068.00,3240512768.00,134729,5202659,25.76),(185,'SBIN','2016-02-24',158.50,156.00,160.70,155.30,156.65,156.30,158.08,19440950.00,3073199360.00,121891,4004709,20.60),(186,'SBIN','2016-02-25',156.30,157.60,158.10,151.00,152.00,151.80,153.89,22713124.00,3495358464.00,142201,7407606,32.61),(187,'SBIN','2016-02-26',151.80,155.50,158.70,152.55,157.00,155.90,155.78,30051402.00,4681280000.00,176437,7282242,24.23),(188,'SBIN','2016-02-29',155.90,158.20,163.90,153.00,159.45,158.75,159.44,66981912.00,10679889920.00,373065,14012660,20.92),(189,'SBIN','2016-03-01',158.75,160.50,162.90,158.55,162.80,162.05,161.19,23588232.00,3802269440.00,153474,6410530,27.18),(190,'SBIN','2016-03-02',162.05,172.50,183.20,172.50,182.40,181.15,177.82,53333756.00,9483964416.00,288251,16432378,30.81),(191,'SBIN','2016-03-03',181.15,184.00,184.60,178.50,183.60,182.75,181.28,33507048.00,6074173952.00,192218,6099812,18.20),(192,'SBIN','2016-03-04',182.75,183.40,189.85,178.50,189.10,188.40,185.00,38860712.00,7189420032.00,212758,6154362,15.84),(193,'SBIN','2016-03-08',188.40,186.95,186.95,181.40,183.10,183.35,184.19,27928280.00,5144161792.00,167308,7429060,26.60),(194,'SBIN','2016-03-09',183.35,180.00,184.00,178.70,183.45,183.40,181.72,29453018.00,5352122880.00,149605,9260103,31.44),(195,'SBIN','2016-03-10',183.40,184.75,184.75,179.40,180.35,180.50,181.51,20472928.00,3715971840.00,111536,4857524,23.73),(196,'SBIN','2016-03-11',180.50,180.00,182.65,177.55,180.55,180.10,180.26,21869156.00,3942241280.00,117055,5271999,24.11),(197,'SBIN','2016-03-14',180.10,182.45,183.40,180.70,181.70,181.75,181.80,14369755.00,2612424192.00,90248,3518160,24.48),(198,'SBIN','2016-03-15',181.75,181.65,186.20,181.65,185.05,185.30,184.71,22369600.00,4131972608.00,154226,6779447,30.31),(199,'SBIN','2016-03-16',185.30,185.00,185.90,181.60,185.60,185.20,184.15,19237834.00,3542620928.00,107162,4673661,24.29),(200,'SBIN','2016-03-17',185.20,188.00,189.30,185.00,185.20,186.35,187.64,21560986.00,4045649920.00,140622,6997724,32.46),(201,'SBIN','2016-03-18',186.35,186.85,192.00,186.00,191.50,191.25,189.06,21144216.00,3997511168.00,134926,6611156,31.27),(202,'SBIN','2016-03-21',191.25,193.00,197.30,193.00,197.05,196.80,195.30,20678068.00,4038513920.00,143523,6513731,31.50),(203,'SBIN','2016-03-22',196.80,196.80,198.25,194.50,197.90,197.50,196.38,16728809.00,3285173248.00,116859,3908068,23.36),(204,'SBIN','2016-03-23',197.50,196.90,197.60,195.30,196.25,196.60,196.39,13362780.00,2624328960.00,79259,3499361,26.19),(205,'SBIN','2016-03-28',196.60,195.80,198.25,187.65,188.70,188.30,192.01,19760604.00,3794322176.00,122344,7729975,39.12),(206,'SBIN','2016-03-29',188.30,188.50,191.25,186.65,189.30,189.50,189.51,16804848.00,3184611840.00,97810,3973615,23.65),(207,'SBIN','2016-03-30',189.50,192.25,198.30,190.50,197.05,197.55,194.81,20709408.00,4034427648.00,126461,4691725,22.66),(208,'SBIN','2016-03-31',197.55,197.85,198.75,192.35,194.00,194.25,195.64,30132472.00,5894971904.00,149396,12518461,41.54),(209,'SBIN','2016-04-01',194.25,193.70,197.25,192.00,195.25,195.65,195.16,21752206.00,4245259264.00,115244,6555959,30.14),(210,'SBIN','2016-04-04',195.65,197.30,197.45,192.55,194.75,194.70,194.94,15732565.00,3066857984.00,97228,4957251,31.51),(211,'SBIN','2016-04-05',194.70,193.90,194.55,183.30,183.75,184.35,189.13,36635636.00,6928984064.00,225354,9409530,25.68),(212,'SBIN','2016-04-06',184.35,185.00,185.50,182.20,183.80,183.85,184.04,16350631.00,3009183232.00,118379,3029153,18.53),(213,'SBIN','2016-04-07',183.85,183.80,185.65,181.00,182.00,181.95,183.24,19430600.00,3560435968.00,128307,3728079,19.19),(214,'SBIN','2016-04-08',181.95,181.65,183.95,180.20,183.45,183.10,182.68,15805231.00,2887350784.00,106622,3846954,24.34),(215,'SBIN','2016-04-11',183.10,183.85,188.90,182.00,188.45,188.25,185.17,18990364.00,3516413440.00,106419,5162794,27.19),(216,'SBIN','2016-04-12',188.25,188.50,190.25,186.30,188.00,187.80,188.33,14563344.00,2742691584.00,86118,3429723,23.55),(217,'SBIN','2016-04-13',187.80,191.55,193.80,190.80,191.35,191.90,192.18,17573044.00,3377105920.00,112945,4692528,26.70),(218,'SBIN','2016-04-18',191.90,191.45,191.50,185.60,186.55,186.75,187.49,13985439.00,2622133248.00,100989,4213356,30.13),(219,'SBIN','2016-04-20',186.75,188.35,188.65,184.10,187.60,187.30,186.58,20163004.00,3762010368.00,125867,5582860,27.69),(220,'SBIN','2016-04-21',187.30,190.50,197.40,190.00,193.50,194.35,194.77,31008152.00,6039360000.00,157469,10222408,32.97),(221,'SBIN','2016-04-22',194.35,193.60,201.50,191.55,200.25,200.15,198.29,34049764.00,6751869952.00,194929,9141444,26.85),(222,'SBIN','2016-04-25',200.15,200.95,202.55,195.80,197.35,197.05,199.38,23835612.00,4752396288.00,135454,6226085,26.12),(223,'SBIN','2016-04-26',197.05,195.95,201.40,194.55,200.80,200.95,198.76,21809452.00,4334812160.00,126638,4502133,20.64),(224,'SBIN','2016-04-27',200.95,200.90,200.90,195.50,196.05,196.15,197.97,22801604.00,4513952256.00,118308,7808736,34.25),(225,'SBIN','2016-04-28',196.15,196.75,198.20,191.20,192.10,192.05,194.50,24555480.00,4776038400.00,185568,10059264,40.97),(226,'SBIN','2016-04-29',192.05,191.90,194.00,186.45,188.90,189.00,190.12,21021660.00,3996623616.00,134907,4406039,20.96),(227,'SBIN','2016-05-02',189.00,187.60,188.45,185.50,185.95,186.00,186.83,14469844.00,2703342336.00,84815,3860773,26.68),(228,'SBIN','2016-05-03',186.00,187.00,189.35,183.65,183.90,184.05,186.56,16247931.00,3031162368.00,92539,4008897,24.67),(229,'SBIN','2016-05-04',184.05,183.50,184.40,179.15,179.70,179.95,181.86,17826594.00,3241988352.00,118748,4901295,27.49),(230,'SBIN','2016-05-05',179.95,180.25,182.70,178.50,180.65,180.35,180.48,17742028.00,3202036480.00,129687,3447797,19.43),(231,'SBIN','2016-05-06',180.35,180.95,184.95,180.10,184.15,184.35,183.08,18336962.00,3357150464.00,99937,4510089,24.60),(232,'SBIN','2016-05-09',184.35,186.50,189.40,185.05,188.70,188.70,187.21,13863696.00,2595393280.00,76040,3198259,23.07),(233,'SBIN','2016-05-10',188.70,187.60,190.30,186.70,189.40,189.50,188.74,13845979.00,2613255424.00,109702,4353655,31.44),(234,'SBIN','2016-05-11',189.50,185.40,188.50,184.10,185.15,185.00,186.54,18128414.00,3381624832.00,94967,6402437,35.32),(235,'SBIN','2016-05-12',185.00,187.10,189.50,185.40,188.80,188.50,187.71,17398340.00,3265888256.00,96170,4968527,28.56),(236,'SBIN','2016-05-13',188.50,187.95,187.95,184.30,184.90,184.85,185.29,15546644.00,2880581120.00,65101,5538257,35.62),(237,'SBIN','2016-05-16',184.85,185.00,185.00,175.15,177.15,176.80,177.52,30937008.00,5491952640.00,189216,12541213,40.54),(238,'SBIN','2016-05-17',176.80,178.50,178.60,175.25,177.10,176.85,176.78,22183140.00,3921559552.00,114958,7445207,33.56),(239,'SBIN','2016-05-18',176.85,176.90,180.45,173.55,180.00,179.95,178.53,25345278.00,4524816896.00,137843,6854944,27.05),(240,'SBIN','2016-05-19',179.95,181.00,181.00,171.90,172.45,172.70,175.82,25480516.00,4480018432.00,133413,10347052,40.61),(241,'SBIN','2016-05-20',172.70,173.50,174.70,170.55,171.70,171.35,172.76,16720624.00,2888653312.00,107822,4437666,26.54),(242,'SBIN','2016-05-23',171.35,172.30,172.70,168.20,168.45,168.40,169.83,16193112.00,2749996032.00,99857,5094469,31.46),(243,'SBIN','2016-05-24',168.40,168.80,170.40,166.40,170.05,169.50,168.18,14816798.00,2491883520.00,89086,4821757,32.54),(244,'SBIN','2016-05-25',169.50,171.50,175.80,171.45,174.75,175.10,173.83,18900888.00,3285447168.00,103155,7722398,40.86),(245,'SBIN','2016-05-26',175.10,175.10,185.50,173.50,184.55,184.15,180.13,30700988.00,5530238464.00,167461,12229884,39.84),(246,'SBIN','2016-05-27',184.15,184.00,202.40,181.50,201.30,195.90,189.38,85585824.00,16208396288.00,447197,18274572,21.35),(247,'SBIN','2016-05-30',195.90,200.20,203.90,194.60,197.80,198.85,198.46,46075948.00,9144309760.00,246811,14953723,32.45),(248,'SBIN','2016-05-31',198.85,198.80,205.70,196.20,205.30,204.95,201.54,39457648.00,7952388608.00,227995,11774756,29.84),(249,'SBIN','2016-06-01',204.95,205.95,208.30,196.60,198.60,198.25,202.84,41868032.00,8492606464.00,215016,10871586,25.97),(250,'SBIN','2016-06-02',198.25,197.85,202.30,195.55,200.60,200.55,199.11,23499884.00,4679014912.00,157035,3621222,15.41),(251,'SBIN','2016-06-03',200.55,201.00,202.15,195.40,196.25,196.60,198.81,24568748.00,4884542976.00,126039,4648593,18.92),(252,'SBIN','2016-06-06',196.60,197.45,202.60,197.10,198.75,198.90,199.55,23623536.00,4714028544.00,132639,5880974,24.89),(253,'SBIN','2016-06-07',198.90,200.45,211.15,200.15,210.15,210.15,205.82,66063192.00,13597283328.00,363240,18623978,28.19),(254,'SBIN','2016-06-08',210.15,210.15,211.90,207.55,209.90,210.70,210.28,35163092.00,7394208256.00,191274,10519149,29.92),(255,'SBIN','2016-06-09',210.70,210.00,212.80,208.30,209.50,209.95,210.61,27858182.00,5867210240.00,155374,6530703,23.44),(256,'SBIN','2016-06-10',209.95,209.35,211.50,205.30,206.10,205.95,208.39,25598224.00,5334414848.00,138243,6059206,23.67),(257,'SBIN','2016-06-13',205.95,201.50,202.60,200.20,202.50,201.80,201.58,21192524.00,4272038400.00,122783,5211906,24.59),(258,'SBIN','2016-06-14',201.80,204.35,208.60,203.80,208.20,207.70,205.99,23918910.00,4927151616.00,129701,4916156,20.55),(259,'SBIN','2016-06-15',207.70,209.75,217.55,208.55,215.25,216.05,213.78,48362744.00,10338917376.00,262445,8804444,18.21),(260,'SBIN','2016-06-16',216.05,216.00,218.50,213.05,215.15,216.00,215.77,48122380.00,10383604736.00,285087,10889526,22.63),(261,'SBIN','2016-06-17',216.00,216.75,217.50,211.60,212.90,213.45,214.70,26486676.00,5686609408.00,178438,7332337,27.68),(262,'SBIN','2016-06-20',213.45,208.00,216.70,207.90,215.25,215.90,213.81,32633756.00,6977292288.00,175144,7768315,23.80),(263,'SBIN','2016-06-21',215.90,215.00,217.50,213.15,213.50,214.00,215.39,18960306.00,4083821824.00,130024,5087373,26.83),(264,'SBIN','2016-06-22',214.00,214.00,215.25,211.45,212.90,212.90,213.42,16395548.00,3499126272.00,98467,3630782,22.14),(265,'SBIN','2016-06-23',212.90,213.00,218.00,212.75,217.80,217.55,215.84,20666648.00,4460588032.00,125144,6492054,31.41),(266,'SBIN','2016-06-24',217.55,205.90,212.35,202.50,211.00,211.25,207.89,47224652.00,9817308160.00,247777,10074190,21.33),(267,'SBIN','2016-06-27',211.25,210.80,218.85,210.55,216.80,217.15,216.30,29021652.00,6277238272.00,159297,6765720,23.31),(268,'SBIN','2016-06-28',217.15,216.75,218.65,215.40,215.70,215.90,216.63,21784062.00,4718985728.00,119038,7812921,35.87),(269,'SBIN','2016-06-29',215.90,217.90,218.80,216.10,217.30,217.20,217.43,18019568.00,3918060032.00,88033,4227588,23.46),(270,'SBIN','2016-06-30',217.20,220.00,221.90,217.90,219.30,218.80,219.92,30600996.00,6729755136.00,134433,8573520,28.02),(271,'SBIN','2016-07-01',218.80,220.80,221.00,218.90,219.20,219.60,219.93,15346865.00,3375271168.00,76742,4010619,26.13),(272,'SBIN','2016-07-04',219.60,222.35,224.35,222.00,222.90,223.00,223.16,16534518.00,3689841920.00,92943,3792823,22.94),(273,'SBIN','2016-07-05',223.00,223.25,225.15,221.55,223.00,223.50,223.72,15357018.00,3435729152.00,102896,4498810,29.29),(274,'SBIN','2016-07-07',223.50,223.90,224.60,219.35,220.15,220.05,222.32,12917872.00,2871840000.00,68075,4030925,31.20),(275,'SBIN','2016-07-08',220.05,220.15,220.85,216.50,218.20,218.30,218.11,16017389.00,3493620992.00,96813,5367678,33.51),(276,'SBIN','2016-07-11',218.30,223.60,225.45,222.00,224.50,224.70,223.59,15831791.00,3539855616.00,82208,5654844,35.72),(277,'SBIN','2016-07-12',224.70,225.00,227.20,224.15,226.75,226.70,226.10,19374180.00,4380494848.00,96849,7895882,40.75),(278,'SBIN','2016-07-13',226.70,227.00,228.50,223.95,226.75,227.70,226.83,18377332.00,4168619264.00,102415,5491345,29.88),(279,'SBIN','2016-07-14',227.70,227.00,232.85,226.00,231.75,232.00,230.43,21208020.00,4886952448.00,124475,5697439,26.86),(280,'SBIN','2016-07-15',232.00,232.90,234.40,230.80,231.00,231.50,232.42,15068302.00,3502113280.00,80928,3992784,26.50),(281,'SBIN','2016-07-18',231.50,232.40,233.85,228.20,228.60,228.75,231.31,11816985.00,2733412352.00,74478,2809230,23.77),(282,'SBIN','2016-07-19',228.75,230.00,232.15,227.00,229.45,229.60,229.75,19767340.00,4541472768.00,104305,5887813,29.79),(283,'SBIN','2016-07-20',229.60,230.65,232.75,229.20,230.85,231.15,231.32,18051608.00,4175707904.00,117048,7025409,38.92),(284,'SBIN','2016-07-21',231.15,231.65,232.10,224.40,224.80,225.65,228.81,13306837.00,3044684800.00,67925,3657509,27.49),(285,'SBIN','2016-07-22',225.65,225.40,225.90,222.10,223.45,223.50,223.92,12341622.00,2763588096.00,63031,3019454,24.47),(286,'SBIN','2016-07-25',223.50,223.00,231.00,222.70,229.60,229.90,228.36,18427070.00,4207974656.00,101405,5910707,32.08),(287,'SBIN','2016-07-26',229.90,230.00,232.20,225.90,226.80,226.70,229.45,14162638.00,3249661952.00,87233,4999906,35.30),(288,'SBIN','2016-07-27',226.70,227.75,231.00,226.80,229.40,229.25,228.85,17626616.00,4033799424.00,88800,6547726,37.15),(289,'SBIN','2016-07-28',229.25,230.15,235.15,229.30,230.20,231.00,232.13,26838284.00,6229966848.00,134747,11330407,42.22),(290,'SBIN','2016-07-29',231.00,230.00,232.70,228.40,230.15,229.40,230.56,15577230.00,3591426048.00,86038,5904691,37.91),(291,'SBIN','2016-08-01',229.40,230.80,232.65,225.30,227.75,227.30,228.31,16071228.00,3669246720.00,84451,6622550,41.21),(292,'SBIN','2016-08-02',227.30,229.30,230.90,227.30,228.10,228.05,228.80,16145066.00,3693918464.00,79842,6134616,38.00),(293,'SBIN','2016-08-03',228.05,228.50,230.50,225.80,226.55,226.65,228.26,14838944.00,3387178752.00,73601,6312310,42.54),(294,'SBIN','2016-08-04',226.65,228.45,228.70,223.20,226.20,225.65,225.75,17810908.00,4020831232.00,86508,7884902,44.27),(295,'SBIN','2016-08-05',225.65,227.35,233.90,226.90,231.85,232.75,232.09,21264296.00,4935293440.00,113047,8017919,37.71),(296,'SBIN','2016-08-08',232.75,233.95,235.90,231.70,232.65,233.25,233.54,16972828.00,3963838720.00,79004,5892060,34.71),(297,'SBIN','2016-08-09',233.25,234.25,238.00,232.65,235.50,235.15,234.92,19854184.00,4664086528.00,109330,5586660,28.14),(298,'SBIN','2016-08-10',235.15,236.75,236.90,231.05,231.25,231.50,232.96,16279843.00,3792544000.00,88530,6296050,38.67),(299,'SBIN','2016-08-11',231.50,231.50,231.60,226.10,226.90,227.15,227.78,16673286.00,3797846528.00,68150,6755104,40.51),(300,'SBIN','2016-08-12',227.15,227.00,247.95,224.40,243.60,243.30,240.56,86616472.00,20836726784.00,458828,24769437,28.60),(301,'SBIN','2016-08-16',243.30,245.25,247.90,242.65,246.20,246.75,245.15,27709872.00,6792957440.00,135110,6723968,24.27),(302,'SBIN','2016-08-17',246.75,246.45,249.80,244.30,245.30,246.25,246.63,18294050.00,4511949312.00,123640,2962279,16.19),(303,'SBIN','2016-08-18',246.25,246.90,250.40,246.55,248.20,248.40,248.77,14314950.00,3561094144.00,82107,3773825,26.36),(304,'SBIN','2016-08-19',248.40,255.00,260.00,253.50,258.50,258.50,256.76,39822528.00,10224911360.00,209689,11933585,29.97),(305,'SBIN','2016-08-22',258.50,259.80,260.40,254.00,254.15,254.80,256.81,19769886.00,5077060096.00,140995,6913670,34.97),(306,'SBIN','2016-08-23',254.80,254.90,255.80,251.00,255.30,254.75,253.26,17583720.00,4453336576.00,110480,5392781,30.67),(307,'SBIN','2016-08-24',254.75,254.95,256.20,253.50,254.15,254.40,254.58,11560293.00,2942994432.00,90982,3132584,27.10),(308,'SBIN','2016-08-25',254.40,254.90,255.55,248.60,249.50,250.15,251.92,21230706.00,5348357632.00,107161,10496184,49.44),(309,'SBIN','2016-08-26',250.15,250.30,250.70,245.85,246.35,246.60,247.59,16531983.00,4093119232.00,123619,7833851,47.39),(310,'SBIN','2016-08-29',246.60,245.85,249.85,244.25,249.45,249.05,246.94,11786129.00,2910466560.00,105538,3560636,30.21),(311,'SBIN','2016-08-30',249.05,250.15,252.90,249.80,252.20,252.25,251.70,15323228.00,3856878080.00,99667,6747330,44.03),(312,'SBIN','2016-08-31',252.25,253.25,255.80,251.20,251.60,252.50,253.82,15601566.00,3959916800.00,138866,6348836,40.69),(313,'SBIN','2016-09-01',252.50,251.95,254.85,251.15,252.05,252.00,253.10,12175873.00,3081663744.00,87242,4841499,39.76),(314,'SBIN','2016-09-02',252.00,252.00,255.20,251.65,254.60,254.60,253.69,11380257.00,2887057920.00,96886,4548384,39.97),(315,'SBIN','2016-09-06',254.60,257.20,261.50,256.00,261.30,260.10,258.83,16620963.00,4302065664.00,159177,8417509,50.64),(316,'SBIN','2016-09-07',260.10,262.90,270.30,260.40,267.00,266.80,266.14,30862336.00,8213706240.00,164647,12072931,39.12),(317,'SBIN','2016-09-08',266.80,268.00,271.60,266.90,267.80,268.35,269.03,14339143.00,3857639680.00,79489,4554367,31.76),(318,'SBIN','2016-09-09',268.35,268.40,268.40,263.35,263.70,264.10,265.20,11455826.00,3038132224.00,65770,3558542,31.06),(319,'SBIN','2016-09-12',264.10,257.50,258.75,251.80,253.65,252.75,254.85,18989750.00,4839444992.00,115272,7725813,40.68),(320,'SBIN','2016-09-14',252.75,255.00,258.00,253.00,257.65,257.55,256.10,12754966.00,3266575872.00,77074,4507920,35.34),(321,'SBIN','2016-09-15',257.55,258.35,258.35,254.20,256.35,256.00,255.84,7783662.00,1991407360.00,56689,1839833,23.64),(322,'SBIN','2016-09-16',256.00,257.95,262.00,253.40,255.20,254.30,257.69,18013476.00,4641968128.00,109581,7860169,43.63),(323,'SBIN','2016-09-19',254.30,256.00,258.30,255.20,255.60,255.65,256.30,11433295.00,2930319104.00,66390,4088895,35.76),(324,'SBIN','2016-09-20',255.65,256.40,256.40,253.65,253.85,254.45,254.84,9914599.00,2526638336.00,74224,4170709,42.07),(325,'SBIN','2016-09-21',254.45,254.50,256.25,250.65,251.60,251.15,253.32,12817180.00,3246800384.00,94441,5709914,44.55),(326,'SBIN','2016-09-22',251.15,257.90,258.45,255.10,257.90,257.90,256.74,20797370.00,5339561984.00,116332,10720246,51.55),(327,'SBIN','2016-09-23',257.90,258.80,258.80,253.80,254.25,254.55,256.61,12730223.00,3266639872.00,72436,5580214,43.83),(328,'SBIN','2016-09-26',254.55,253.95,254.45,250.65,251.90,251.65,252.38,8800173.00,2221028608.00,60654,2685917,30.52),(329,'SBIN','2016-09-27',251.65,253.15,253.90,248.30,248.85,249.00,250.72,11345387.00,2844547584.00,68190,4760497,41.96),(330,'SBIN','2016-09-28',249.00,250.00,255.80,248.05,254.00,253.75,253.17,17277540.00,4374207488.00,82646,6685102,38.69),(331,'SBIN','2016-09-29',253.75,255.00,256.75,243.50,249.00,247.25,249.18,27870696.00,6944957952.00,120912,12868818,46.17),(332,'SBIN','2016-09-30',247.25,246.85,252.50,245.80,252.00,251.25,249.88,14826293.00,3704817920.00,105590,5136844,34.65),(333,'SBIN','2016-10-03',251.25,253.00,256.65,252.65,255.10,255.30,255.23,9314647.00,2377418240.00,74160,3403117,36.54),(334,'SBIN','2016-10-04',255.30,255.80,262.00,253.80,261.00,259.75,257.53,21532806.00,5545444864.00,117839,6172659,28.67),(335,'SBIN','2016-10-05',259.75,262.00,264.90,259.55,260.00,260.85,262.58,20868556.00,5479613952.00,133186,9608356,46.04),(336,'SBIN','2016-10-06',260.85,261.35,262.00,255.65,257.25,256.80,259.03,11081154.00,2870375936.00,70681,2388442,21.55),(337,'SBIN','2016-10-07',256.80,257.25,259.90,255.25,258.05,258.70,257.40,11934100.00,3071811328.00,72975,3440378,28.83),(338,'SBIN','2016-10-10',258.70,259.35,260.30,256.05,256.65,256.60,257.85,9399844.00,2423707904.00,71528,3297928,35.08),(339,'SBIN','2016-10-13',256.60,254.95,255.35,245.85,249.95,249.65,250.18,18050638.00,4515921920.00,127024,8947593,49.57),(340,'SBIN','2016-10-14',249.65,251.00,253.55,249.10,252.05,252.10,251.98,12133951.00,3057452544.00,79275,4664585,38.44),(341,'SBIN','2016-10-17',252.10,253.75,256.45,252.00,253.00,253.20,254.06,16865536.00,4284785152.00,89069,7544530,44.73),(342,'SBIN','2016-10-18',253.20,254.90,257.70,253.80,256.90,256.90,255.36,20218356.00,5162940416.00,167023,10419888,51.54),(343,'SBIN','2016-10-19',256.90,258.00,258.00,254.85,255.30,255.40,255.84,9546481.00,2442358272.00,53487,3509132,36.76),(344,'SBIN','2016-10-20',255.40,255.70,260.90,255.30,260.10,260.20,259.24,14179531.00,3675951104.00,100640,5105306,36.00),(345,'SBIN','2016-10-21',260.20,259.75,259.75,256.10,259.20,258.50,257.63,8833390.00,2275714560.00,51999,2578291,29.19),(346,'SBIN','2016-10-24',258.50,259.30,264.90,259.30,262.80,262.95,263.27,14483254.00,3813057536.00,112379,5944535,41.04),(347,'SBIN','2016-10-25',262.95,264.00,264.55,260.75,261.50,261.45,262.07,9079178.00,2379356416.00,60368,3539616,38.99),(348,'SBIN','2016-10-26',261.45,260.40,264.85,256.80,257.00,258.75,260.60,15020687.00,3914375424.00,94833,6029383,40.14),(349,'SBIN','2016-10-27',258.75,258.00,258.10,254.30,255.95,255.40,255.63,10938008.00,2796108288.00,61468,3784455,34.60),(350,'SBIN','2016-10-28',255.40,255.90,258.80,254.00,258.50,258.00,257.09,11430184.00,2938585088.00,64130,5088423,44.52),(351,'SBIN','2016-10-30',258.00,258.90,260.00,256.60,257.00,257.60,258.16,2107882.00,544166784.00,20579,749475,35.56),(352,'SBIN','2016-11-01',257.60,257.00,260.90,256.50,259.40,258.95,259.08,10000632.00,2591000064.00,73664,4054341,40.54),(353,'SBIN','2016-11-02',258.95,254.10,256.00,250.55,251.00,251.05,252.01,13716294.00,3456634624.00,90831,5847750,42.63),(354,'SBIN','2016-11-03',251.05,251.15,252.80,244.85,245.55,245.65,248.28,12902390.00,3203416576.00,84500,5002910,38.78),(355,'SBIN','2016-11-04',245.65,246.25,247.40,240.30,243.10,242.85,243.39,12657669.00,3080796928.00,92496,3573880,28.23),(356,'SBIN','2016-11-07',242.85,248.00,253.90,245.50,252.15,252.70,250.37,11224419.00,2810285568.00,83543,3311423,29.50),(357,'SBIN','2016-11-08',252.70,253.70,254.10,248.65,252.75,252.65,251.37,9367228.00,2354620160.00,74127,2522297,26.93),(358,'SBIN','2016-11-09',252.65,235.00,261.05,235.00,260.80,260.00,251.04,31761606.00,7973547008.00,185517,8434624,26.56),(359,'SBIN','2016-11-10',260.00,267.00,284.20,265.25,281.35,281.30,277.76,50227560.00,13951278080.00,316412,14611697,29.09),(360,'SBIN','2016-11-11',281.30,278.75,288.80,270.50,273.95,273.00,277.84,57937112.00,16097054720.00,312701,11466984,19.79),(361,'SBIN','2016-11-15',273.00,275.15,283.45,270.70,278.00,278.20,277.97,48658808.00,13525913600.00,246681,18007985,37.01),(362,'SBIN','2016-11-16',278.20,284.00,284.80,276.15,277.65,277.20,278.73,27532708.00,7674140160.00,158917,10888066,39.55),(363,'SBIN','2016-11-17',277.20,278.00,282.20,275.60,278.70,277.45,279.38,19500760.00,5448120320.00,134965,6431249,32.98),(364,'SBIN','2016-11-18',277.45,278.15,280.00,274.85,275.70,275.80,277.00,13389671.00,3708894464.00,92856,3127828,23.36),(365,'SBIN','2016-11-21',275.80,277.15,277.60,255.85,258.50,257.35,264.47,26002028.00,6876820480.00,161274,7295729,28.06),(366,'SBIN','2016-11-22',257.35,260.80,262.65,251.15,258.00,257.35,256.19,25631436.00,6566542848.00,154347,4480233,17.48),(367,'SBIN','2016-11-23',257.35,259.80,260.35,254.75,258.05,258.65,257.72,16190033.00,4172524544.00,116885,3815989,23.57),(368,'SBIN','2016-11-24',258.65,257.80,263.00,254.55,261.80,261.75,260.61,28927720.00,7538850304.00,141790,11174382,38.63),(369,'SBIN','2016-11-25',261.75,263.50,264.50,258.35,260.85,260.95,261.08,19303588.00,5039728128.00,142066,7194233,37.27),(370,'SBIN','2016-11-28',260.95,253.45,257.75,248.00,254.05,253.55,254.63,22315184.00,5682184192.00,184333,6951546,31.15),(371,'SBIN','2016-11-29',253.55,254.25,256.50,252.00,253.15,252.70,254.52,12656706.00,3221370624.00,109264,3910411,30.90),(372,'SBIN','2016-11-30',252.70,254.00,260.15,252.70,257.85,258.35,256.70,16501691.00,4235923200.00,131822,5197713,31.50),(373,'SBIN','2016-12-01',258.35,259.65,261.00,254.65,256.40,255.65,257.10,12986151.00,3338764032.00,79046,2873913,22.13),(374,'SBIN','2016-12-02',255.65,253.95,261.40,253.00,254.10,254.10,255.89,21139754.00,5409398784.00,136950,5031421,23.80),(375,'SBIN','2016-12-05',254.10,254.40,257.80,253.20,257.70,256.90,255.82,8406973.00,2150634240.00,68237,1597438,19.00),(376,'SBIN','2016-12-06',256.90,258.50,260.15,256.35,259.70,259.10,258.64,10048459.00,2598905600.00,72559,2212103,22.01),(377,'SBIN','2016-12-07',259.10,260.35,262.75,251.65,256.35,255.60,258.19,22193202.00,5730158592.00,141042,5391202,24.29),(378,'SBIN','2016-12-08',255.60,258.45,260.50,258.05,259.90,259.90,259.38,9047721.00,2346774528.00,66714,2098509,23.19),(379,'SBIN','2016-12-09',259.90,260.80,267.20,258.80,266.60,266.65,264.21,16004173.00,4228457216.00,103824,5188994,32.42),(380,'SBIN','2016-12-12',266.65,268.90,269.35,262.30,264.00,263.65,266.17,14296268.00,3805217536.00,99034,4000048,27.98),(381,'SBIN','2016-12-13',263.65,264.90,266.75,261.55,266.05,266.15,264.38,9084137.00,2401648384.00,67769,2460029,27.08),(382,'SBIN','2016-12-14',266.15,266.00,266.25,262.30,263.00,262.90,263.86,8672531.00,2288334336.00,81547,3157637,36.41),(383,'SBIN','2016-12-15',262.90,259.90,267.50,259.00,265.35,265.40,264.98,12274497.00,3252488704.00,83448,2382553,19.41),(384,'SBIN','2016-12-16',265.40,266.35,266.35,263.05,265.20,264.75,264.65,11017555.00,2915749376.00,83837,4944483,44.88),(385,'SBIN','2016-12-19',264.75,263.35,264.50,260.85,261.30,261.35,262.48,8371299.00,2197293824.00,57083,3315890,39.61),(386,'SBIN','2016-12-20',261.35,261.85,262.90,253.25,255.05,254.55,256.17,12765309.00,3270119168.00,78439,3594514,28.16),(387,'SBIN','2016-12-21',254.55,256.10,258.00,254.10,254.60,255.35,256.10,8778450.00,2248147456.00,66671,1805197,20.56),(388,'SBIN','2016-12-22',255.35,254.25,254.25,248.35,249.80,249.80,250.45,12981595.00,3251234304.00,103305,4672099,35.99),(389,'SBIN','2016-12-23',249.80,249.75,251.80,247.80,249.00,249.15,249.85,10557157.00,2637727488.00,82528,2644628,25.05),(390,'SBIN','2016-12-26',249.15,248.00,248.30,243.60,243.95,244.20,245.38,8592983.00,2108509312.00,70388,2745424,31.95),(391,'SBIN','2016-12-27',244.20,244.60,249.95,243.10,248.60,248.75,245.62,8756536.00,2150781184.00,79734,2124865,24.27),(392,'SBIN','2016-12-28',248.75,249.25,252.50,247.15,247.60,247.75,249.42,11747088.00,2929995264.00,83042,3329930,28.35),(393,'SBIN','2016-12-29',247.75,247.65,248.85,245.50,247.20,247.65,247.45,10658616.00,2637435136.00,69581,4540842,42.60),(394,'SBIN','2016-12-30',247.65,247.75,252.30,247.25,250.30,250.20,250.58,10538497.00,2640749824.00,91141,3293706,31.25),(395,'SBIN','2017-01-02',250.20,252.50,253.65,242.60,243.55,243.60,244.80,25988990.00,6362168320.00,164268,12078409,46.48),(396,'SBIN','2017-01-03',243.60,244.00,246.40,241.10,244.90,244.90,244.54,15963085.00,3903555840.00,112537,4370526,27.38),(397,'SBIN','2017-01-04',244.90,245.80,246.40,242.20,243.20,242.90,243.96,11225978.00,2738650624.00,91672,3632352,32.36),(398,'SBIN','2017-01-05',242.90,245.00,245.90,243.70,245.50,245.35,244.94,11970913.00,2932209408.00,88254,4511456,37.69),(399,'SBIN','2017-01-06',245.35,246.00,249.00,245.50,246.05,245.90,247.10,12354302.00,3052713984.00,75839,3393716,27.47),(400,'SBIN','2017-01-09',245.90,246.40,248.35,246.00,246.70,247.05,247.09,8329253.00,2058077312.00,96852,2615006,31.40),(401,'SBIN','2017-01-10',247.05,247.70,249.00,246.40,248.90,248.30,247.64,9352013.00,2315926784.00,61592,3888157,41.58),(402,'SBIN','2017-01-11',248.30,249.65,253.20,249.00,251.70,252.15,251.31,13415303.00,3371362560.00,88947,4496383,33.52),(403,'SBIN','2017-01-12',252.15,252.90,254.45,250.55,251.15,251.25,252.31,11282323.00,2846690816.00,79782,3565007,31.60),(404,'SBIN','2017-01-13',251.25,252.00,252.60,249.10,251.00,250.90,250.86,9333736.00,2341502976.00,61618,2870258,30.75),(405,'SBIN','2017-01-16',250.90,251.05,256.40,250.70,256.40,255.75,254.48,13234727.00,3367988736.00,103243,6268943,47.37),(406,'SBIN','2017-01-17',255.75,257.45,258.65,254.40,255.90,256.00,256.89,9480201.00,2435403264.00,78812,2606666,27.50),(407,'SBIN','2017-01-18',256.00,257.10,259.30,256.60,258.30,258.35,258.06,8048897.00,2077100544.00,67626,2556065,31.76),(408,'SBIN','2017-01-19',258.35,257.20,262.00,256.50,258.05,258.40,259.16,13029151.00,3376641280.00,90954,4631679,35.55),(409,'SBIN','2017-01-20',258.40,258.50,260.50,250.30,251.20,251.05,254.94,15341756.00,3911266816.00,130482,5848512,38.12),(410,'SBIN','2017-01-23',251.05,251.00,255.20,250.10,254.80,254.15,253.65,9339939.00,2369079552.00,68661,3291451,35.24),(411,'SBIN','2017-01-24',254.15,255.10,257.00,254.00,254.60,254.90,255.53,13540202.00,3459953664.00,67944,6203676,45.82),(412,'SBIN','2017-01-25',254.90,255.55,261.00,254.20,259.85,259.20,256.69,16343545.00,4195160320.00,100850,9274609,56.75),(413,'SBIN','2017-01-27',259.20,260.30,268.20,259.50,266.50,266.45,264.82,18039380.00,4777271296.00,141762,6528038,36.19),(414,'SBIN','2017-01-30',266.45,265.85,267.90,263.40,263.85,263.95,265.55,11884795.00,3155951360.00,81433,4484109,37.73),(415,'SBIN','2017-01-31',263.95,261.15,263.85,259.65,260.00,260.35,261.37,8899165.00,2325949696.00,58875,3298704,37.07),(416,'SBIN','2017-02-01',260.35,262.00,271.90,261.60,271.40,270.70,267.29,27253142.00,7284539392.00,162896,8648465,31.73),(417,'SBIN','2017-02-02',270.70,271.85,275.00,268.70,272.75,273.30,272.45,20139956.00,5487069696.00,115076,6787511,33.70),(418,'SBIN','2017-02-03',273.30,273.00,278.55,272.00,278.10,277.55,276.42,15366890.00,4247716096.00,96972,5823909,37.90),(419,'SBIN','2017-02-06',277.55,280.00,282.50,276.00,276.55,277.05,279.46,14725291.00,4115106304.00,86870,4007676,27.22),(420,'SBIN','2017-02-07',277.05,277.85,280.00,276.30,277.60,277.90,278.05,10981984.00,3053553664.00,71911,3158033,28.76),(421,'SBIN','2017-02-08',277.90,278.10,279.25,272.60,278.70,277.20,276.47,13622088.00,3766103552.00,80900,4651632,34.15),(422,'SBIN','2017-02-09',277.20,278.80,280.30,270.85,276.10,275.85,275.19,16080181.00,4425094656.00,103265,4702318,29.24),(423,'SBIN','2017-02-10',275.85,278.75,282.80,275.00,275.20,276.35,279.51,37580488.00,10504276992.00,229689,7610992,20.25),(424,'SBIN','2017-02-13',276.35,277.80,278.25,270.20,271.50,271.65,272.68,19853044.00,5413464576.00,131249,7859215,39.59),(425,'SBIN','2017-02-14',271.65,272.00,273.00,268.10,269.60,270.20,270.61,13306738.00,3600976384.00,80457,4723961,35.50),(426,'SBIN','2017-02-15',270.20,270.95,272.50,267.05,269.30,268.95,269.35,12201568.00,3286551296.00,84751,4131482,33.86),(427,'SBIN','2017-02-16',268.95,277.00,277.00,269.65,270.40,270.50,271.89,21794688.00,5925860352.00,128472,6441114,29.55),(428,'SBIN','2017-02-17',270.50,271.15,273.65,267.70,269.50,269.35,269.75,17830528.00,4809736704.00,124751,7500497,42.07),(429,'SBIN','2017-02-20',269.35,269.90,271.55,268.00,269.50,269.65,269.51,9229363.00,2487437824.00,57805,3475091,37.65),(430,'SBIN','2017-02-21',269.65,270.00,271.50,268.65,270.75,270.70,270.13,7754157.00,2094652544.00,80298,2664456,34.36),(431,'SBIN','2017-02-22',270.70,271.90,274.70,269.50,271.70,272.30,272.59,12617613.00,3439486464.00,112129,4806179,38.09),(432,'SBIN','2017-02-23',272.30,271.70,273.00,269.60,270.50,270.45,271.29,13146194.00,3566482688.00,84162,7243813,55.10),(433,'SBIN','2017-02-27',270.45,270.80,271.45,267.60,268.20,268.25,269.02,9645350.00,2594791680.00,68463,4606438,47.76),(434,'SBIN','2017-02-28',268.25,268.90,271.25,268.00,269.00,269.20,269.49,7941592.00,2140204800.00,65573,2816662,35.47),(435,'SBIN','2017-03-01',269.20,270.00,273.30,269.80,271.70,271.75,271.94,7656892.00,2082232064.00,58629,2004506,26.18),(436,'SBIN','2017-03-02',271.75,273.00,274.70,266.50,267.20,267.30,270.99,14220808.00,3853749504.00,80696,4596797,32.32),(437,'SBIN','2017-03-03',267.30,266.25,268.90,264.25,265.55,265.05,265.78,10120034.00,2689695232.00,75478,3907290,38.61),(438,'SBIN','2017-03-06',265.05,266.60,270.35,266.35,270.20,269.85,268.37,9515073.00,2553575424.00,63033,3982426,41.85),(439,'SBIN','2017-03-07',269.85,270.80,270.90,266.40,267.70,267.80,267.78,11599142.00,3106065920.00,65023,6347327,54.72),(440,'SBIN','2017-03-08',267.80,267.80,270.30,266.00,270.05,269.90,268.62,9122987.00,2450644992.00,65561,3081623,33.78),(441,'SBIN','2017-03-09',269.90,269.00,273.90,268.40,273.15,273.25,272.15,15594429.00,4244086528.00,95804,7576329,48.58),(442,'SBIN','2017-03-10',273.25,274.50,275.55,269.50,271.90,272.05,272.67,9557026.00,2605920512.00,77178,3246642,33.97),(443,'SBIN','2017-03-14',272.05,278.40,278.40,273.80,274.75,274.65,275.43,15734886.00,4333927936.00,108786,7747107,49.24),(444,'SBIN','2017-03-15',274.65,272.65,280.50,272.65,276.55,277.35,277.95,20055974.00,5574549504.00,127137,9841167,49.07),(445,'SBIN','2017-03-16',277.35,278.00,280.20,276.05,279.05,279.30,278.38,18005184.00,5012227072.00,139878,8827321,49.03),(446,'SBIN','2017-03-17',279.30,279.45,279.50,273.50,274.00,274.15,275.10,14265642.00,3924494848.00,95520,7240757,50.76),(447,'SBIN','2017-03-20',274.15,274.75,274.75,271.80,273.90,273.90,273.41,9678185.00,2646065920.00,71526,4612235,47.66),(448,'SBIN','2017-03-21',273.90,274.40,277.05,270.15,272.75,272.35,273.52,11898233.00,3254395904.00,72969,4944113,41.55),(449,'SBIN','2017-03-22',272.35,270.30,271.00,266.80,267.75,267.50,268.74,9887203.00,2657109760.00,97564,4670186,47.23),(450,'SBIN','2017-03-23',267.50,269.00,269.40,266.70,268.65,268.50,268.14,7998170.00,2144647552.00,77028,4061076,50.78),(451,'SBIN','2017-03-24',268.50,269.50,278.95,268.65,275.95,276.50,275.33,20133468.00,5543261184.00,135209,8243224,40.94),(452,'SBIN','2017-03-27',276.50,276.00,280.80,275.20,278.90,279.45,278.73,15966114.00,4450236928.00,103411,5464685,34.23),(453,'SBIN','2017-03-28',279.45,280.65,282.90,278.50,282.20,282.10,280.87,18673372.00,5244849152.00,89603,10584347,56.68),(454,'SBIN','2017-03-29',282.10,283.15,289.90,283.15,288.70,288.45,287.10,31008408.00,8902363136.00,160418,16769893,54.08),(455,'SBIN','2017-03-30',288.45,289.00,293.75,288.85,291.40,291.05,291.33,19683170.00,5734340096.00,111949,7306917,37.12),(456,'SBIN','2017-03-31',291.05,292.00,295.00,288.50,293.30,293.40,292.77,20185268.00,5909721088.00,121335,6436380,31.89),(457,'SBIN','2017-04-03',293.40,294.80,295.70,292.20,293.40,293.15,293.83,10509610.00,3088047360.00,63796,3224137,30.68),(458,'SBIN','2017-04-05',293.15,293.30,298.75,289.65,297.00,297.35,294.71,21936648.00,6465018368.00,143045,9434760,43.01),(459,'SBIN','2017-04-06',297.35,295.45,297.55,291.45,292.25,292.85,294.35,18413112.00,5419869696.00,90051,6325489,34.35),(460,'SBIN','2017-04-07',292.85,291.70,294.80,287.65,288.30,289.45,292.04,10765502.00,3143916032.00,67483,3287133,30.53),(461,'SBIN','2017-04-10',289.45,289.80,290.35,286.55,290.00,289.35,288.81,10307875.00,2977057536.00,95079,3192927,30.98),(462,'SBIN','2017-04-11',289.35,289.30,295.15,288.80,294.30,294.50,292.69,11682024.00,3419233536.00,93318,4281388,36.65),(463,'SBIN','2017-04-12',294.50,294.00,295.45,289.10,290.25,290.15,291.41,13251421.00,3861572864.00,88924,4725911,35.66),(464,'SBIN','2017-04-13',290.15,290.25,293.10,290.00,292.00,291.55,291.41,9944020.00,2897768960.00,73697,3191327,32.09),(465,'SBIN','2017-04-17',291.55,291.10,292.75,288.50,290.20,289.90,289.82,8146800.00,2361107200.00,70366,2782552,34.16),(466,'SBIN','2017-04-18',289.90,291.05,296.90,288.40,291.55,290.30,293.26,13457050.00,3946372608.00,112786,3933986,29.23),(467,'SBIN','2017-04-19',290.30,291.55,291.75,282.90,284.90,284.05,286.36,18149996.00,5197413888.00,106330,8414421,46.36),(468,'SBIN','2017-04-20',284.05,283.90,286.90,282.20,284.85,284.80,284.50,14514929.00,4129487360.00,134919,5768064,39.74),(469,'SBIN','2017-04-21',284.80,287.00,287.00,279.25,282.40,282.20,282.73,12042308.00,3404704768.00,90196,3890947,32.31),(470,'SBIN','2017-04-24',282.20,283.25,287.85,280.90,286.05,286.05,284.64,10077853.00,2868591360.00,89547,3206400,31.82),(471,'SBIN','2017-04-25',286.05,287.50,288.80,285.00,285.90,286.05,286.69,11531902.00,3306125568.00,146257,5021274,43.54),(472,'SBIN','2017-04-26',286.05,287.10,289.50,283.35,285.75,286.45,287.17,13836891.00,3973502464.00,124870,5730697,41.42),(473,'SBIN','2017-04-27',286.45,286.45,287.95,281.05,282.90,282.05,283.58,22622372.00,6415248384.00,119362,13404034,59.25),(474,'SBIN','2017-04-28',282.05,283.00,290.75,282.50,289.40,289.75,286.80,14152004.00,4058772992.00,86994,4940261,34.91),(475,'SBIN','2017-05-02',289.75,290.25,292.50,287.10,288.35,288.30,289.61,9754789.00,2825042432.00,79720,3226892,33.08),(476,'SBIN','2017-05-03',288.30,289.40,293.20,285.80,289.40,289.80,289.52,13950914.00,4039031552.00,86140,4756276,34.09),(477,'SBIN','2017-05-04',289.80,294.00,300.00,293.10,299.80,299.05,296.49,24534924.00,7274385408.00,141660,7644530,31.16),(478,'SBIN','2017-05-05',299.05,301.00,304.90,292.15,295.95,296.00,299.21,34756332.00,10399339520.00,192131,9028419,25.98),(479,'SBIN','2017-05-08',296.00,296.10,300.75,293.90,298.80,299.40,298.68,11560550.00,3452852992.00,87129,3497415,30.25),(480,'SBIN','2017-05-09',299.40,300.90,300.90,295.25,296.40,296.50,297.18,7843574.00,2330960384.00,52271,1619122,20.64),(481,'SBIN','2017-05-10',296.50,297.00,298.15,293.00,294.85,294.45,295.51,8699405.00,2570749696.00,54706,2414488,27.75),(482,'SBIN','2017-05-11',294.45,295.90,299.40,294.45,297.70,298.10,297.34,11934889.00,3548713728.00,75103,5119985,42.90),(483,'SBIN','2017-05-12',298.10,300.00,302.60,296.00,297.85,297.90,299.11,13376269.00,4000935168.00,80897,4186552,31.30),(484,'SBIN','2017-05-15',297.90,298.40,302.00,297.50,300.85,301.40,300.31,10383539.00,3118315008.00,85232,4253034,40.96),(485,'SBIN','2017-05-16',301.40,302.00,308.40,299.35,308.05,307.50,304.43,17533440.00,5337697280.00,130379,6038637,34.44),(486,'SBIN','2017-05-17',307.50,308.00,308.80,305.50,307.05,307.65,307.22,14120513.00,4338137600.00,83419,5555959,39.35),(487,'SBIN','2017-05-18',307.65,304.85,307.90,302.00,302.00,302.95,304.49,15471393.00,4710915584.00,109109,5470333,35.36),(488,'SBIN','2017-05-19',302.95,304.45,315.30,302.00,308.95,308.00,308.83,55250968.00,17062912000.00,339663,10945486,19.81),(489,'SBIN','2017-05-22',308.00,308.95,309.40,293.20,294.40,294.30,298.80,35771220.00,10688311296.00,239823,13476242,37.67),(490,'SBIN','2017-05-23',294.30,295.00,295.90,287.25,288.85,288.85,290.25,19846852.00,5760600576.00,133995,5684339,28.64),(491,'SBIN','2017-05-24',288.85,290.05,290.45,281.65,283.25,283.15,285.51,16435958.00,4692594688.00,120004,4768521,29.01),(492,'SBIN','2017-05-25',283.15,284.15,291.35,283.55,290.00,290.10,287.27,15018467.00,4314318336.00,112707,5507686,36.67),(493,'SBIN','2017-05-26',290.10,290.50,291.00,285.30,289.00,288.45,287.71,12304394.00,3540130816.00,139676,4485862,36.46),(494,'SBIN','2017-05-29',288.45,288.90,290.85,283.30,283.60,284.00,286.97,10619968.00,3047571456.00,86060,3905775,36.78);
/*!40000 ALTER TABLE `equity_data_has_pattern` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `equity_data_has_pattern_rally_top`
--

DROP TABLE IF EXISTS `equity_data_has_pattern_rally_top`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `equity_data_has_pattern_rally_top` (
  `ROW_ID` int(5) NOT NULL AUTO_INCREMENT,
  `SYMBOL` varchar(45) NOT NULL,
  `CURR_DATE` date NOT NULL,
  `PREV_CLOSE` float(10,2) DEFAULT NULL,
  `OPEN_PRICE` float(10,2) DEFAULT NULL,
  `HIGH_PRICE` float(10,2) DEFAULT NULL,
  `LOW_PRICE` float(10,2) DEFAULT NULL,
  `LAST_PRICE` float(10,2) DEFAULT NULL,
  `CLOSE_PRICE` float(10,2) DEFAULT NULL,
  `AVERAGE_PRICE` float(10,2) DEFAULT NULL,
  `TOTAL_TRADED_QUANTITY` float(20,2) DEFAULT NULL,
  `TURNOVER` float(20,2) DEFAULT NULL,
  `NO_OF_TRADES` int(11) DEFAULT NULL,
  `DELIVERABLE_QTY` int(11) DEFAULT NULL,
  `PERCENT_DELIVERABLE_QTY` float(10,2) DEFAULT NULL,
  PRIMARY KEY (`ROW_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1692 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `equity_data_has_pattern_rally_top`
--

LOCK TABLES `equity_data_has_pattern_rally_top` WRITE;
/*!40000 ALTER TABLE `equity_data_has_pattern_rally_top` DISABLE KEYS */;
INSERT INTO `equity_data_has_pattern_rally_top` VALUES (17,'SBIN','2015-06-23',266.00,269.40,271.20,266.25,267.30,267.75,268.64,16180083.00,4346565120.00,120863,7106508,43.92),(27,'SBIN','2015-07-07',270.80,270.40,274.65,270.00,273.80,272.90,272.60,12523410.00,3413843712.00,106296,6386313,50.99),(31,'SBIN','2015-07-13',270.55,272.00,274.35,267.90,273.50,273.70,271.57,8423083.00,2287470592.00,80546,2023632,24.02),(47,'SBIN','2015-08-04',281.05,282.50,289.95,276.40,289.00,288.60,284.26,28858888.00,8203513856.00,202238,10818026,37.49),(49,'SBIN','2015-08-06',285.40,285.60,290.80,282.00,290.00,289.05,286.91,15372143.00,4410468864.00,113784,7685472,50.00),(80,'SBIN','2015-09-21',242.00,239.55,246.00,237.25,245.75,245.25,242.60,9602436.00,2329533952.00,84490,1672108,17.41),(90,'SBIN','2015-10-07',240.10,240.15,244.25,239.05,243.65,243.55,242.42,10608795.00,2571813376.00,78909,2611552,24.62),(93,'SBIN','2015-10-12',243.45,244.10,245.65,241.30,244.15,244.55,244.27,7566962.00,1848345472.00,57702,2819307,37.26),(97,'SBIN','2015-10-16',248.95,249.85,257.15,248.35,256.80,254.85,251.84,11738832.00,2956324864.00,84407,3725598,31.74),(116,'SBIN','2015-11-16',240.25,239.50,249.35,239.10,249.00,248.30,245.34,14051479.00,3447347200.00,99089,4847882,34.50),(192,'SBIN','2016-03-04',182.75,183.40,189.85,178.50,189.10,188.40,185.00,38860712.00,7189420032.00,212758,6154362,15.84),(203,'SBIN','2016-03-22',196.80,196.80,198.25,194.50,197.90,197.50,196.38,16728809.00,3285173248.00,116859,3908068,23.36),(207,'SBIN','2016-03-30',189.50,192.25,198.30,190.50,197.05,197.55,194.81,20709408.00,4034427648.00,126461,4691725,22.66),(221,'SBIN','2016-04-22',194.35,193.60,201.50,191.55,200.25,200.15,198.29,34049764.00,6751869952.00,194929,9141444,26.85),(223,'SBIN','2016-04-26',197.05,195.95,201.40,194.55,200.80,200.95,198.76,21809452.00,4334812160.00,126638,4502133,20.64),(248,'SBIN','2016-05-31',198.85,198.80,205.70,196.20,205.30,204.95,201.54,39457648.00,7952388608.00,227995,11774756,29.84),(254,'SBIN','2016-06-08',210.15,210.15,211.90,207.55,209.90,210.70,210.28,35163092.00,7394208256.00,191274,10519149,29.92),(259,'SBIN','2016-06-15',207.70,209.75,217.55,208.55,215.25,216.05,213.78,48362744.00,10338917376.00,262445,8804444,18.21),(265,'SBIN','2016-06-23',212.90,213.00,218.00,212.75,217.80,217.55,215.84,20666648.00,4460588032.00,125144,6492054,31.41),(273,'SBIN','2016-07-05',223.00,223.25,225.15,221.55,223.00,223.50,223.72,15357018.00,3435729152.00,102896,4498810,29.29),(279,'SBIN','2016-07-14',227.70,227.00,232.85,226.00,231.75,232.00,230.43,21208020.00,4886952448.00,124475,5697439,26.86),(297,'SBIN','2016-08-09',233.25,234.25,238.00,232.65,235.50,235.15,234.92,19854184.00,4664086528.00,109330,5586660,28.14),(301,'SBIN','2016-08-16',243.30,245.25,247.90,242.65,246.20,246.75,245.15,27709872.00,6792957440.00,135110,6723968,24.27),(304,'SBIN','2016-08-19',248.40,255.00,260.00,253.50,258.50,258.50,256.76,39822528.00,10224911360.00,209689,11933585,29.97),(317,'SBIN','2016-09-08',266.80,268.00,271.60,266.90,267.80,268.35,269.03,14339143.00,3857639680.00,79489,4554367,31.76),(335,'SBIN','2016-10-05',259.75,262.00,264.90,259.55,260.00,260.85,262.58,20868556.00,5479613952.00,133186,9608356,46.04),(346,'SBIN','2016-10-24',258.50,259.30,264.90,259.30,262.80,262.95,263.27,14483254.00,3813057536.00,112379,5944535,41.04),(359,'SBIN','2016-11-10',260.00,267.00,284.20,265.25,281.35,281.30,277.76,50227560.00,13951278080.00,316412,14611697,29.09),(379,'SBIN','2016-12-09',259.90,260.80,267.20,258.80,266.60,266.65,264.21,16004173.00,4228457216.00,103824,5188994,32.42),(402,'SBIN','2017-01-11',248.30,249.65,253.20,249.00,251.70,252.15,251.31,13415303.00,3371362560.00,88947,4496383,33.52),(408,'SBIN','2017-01-19',258.35,257.20,262.00,256.50,258.05,258.40,259.16,13029151.00,3376641280.00,90954,4631679,35.55),(413,'SBIN','2017-01-27',259.20,260.30,268.20,259.50,266.50,266.45,264.82,18039380.00,4777271296.00,141762,6528038,36.19),(418,'SBIN','2017-02-03',273.30,273.00,278.55,272.00,278.10,277.55,276.42,15366890.00,4247716096.00,96972,5823909,37.90),(420,'SBIN','2017-02-07',277.05,277.85,280.00,276.30,277.60,277.90,278.05,10981984.00,3053553664.00,71911,3158033,28.76),(441,'SBIN','2017-03-09',269.90,269.00,273.90,268.40,273.15,273.25,272.15,15594429.00,4244086528.00,95804,7576329,48.58),(445,'SBIN','2017-03-16',277.35,278.00,280.20,276.05,279.05,279.30,278.38,18005184.00,5012227072.00,139878,8827321,49.03),(456,'SBIN','2017-03-31',291.05,292.00,295.00,288.50,293.30,293.40,292.77,20185268.00,5909721088.00,121335,6436380,31.89),(458,'SBIN','2017-04-05',293.15,293.30,298.75,289.65,297.00,297.35,294.71,21936648.00,6465018368.00,143045,9434760,43.01),(477,'SBIN','2017-05-04',289.80,294.00,300.00,293.10,299.80,299.05,296.49,24534924.00,7274385408.00,141660,7644530,31.16),(479,'SBIN','2017-05-08',296.00,296.10,300.75,293.90,298.80,299.40,298.68,11560550.00,3452852992.00,87129,3497415,30.25),(486,'SBIN','2017-05-17',307.50,308.00,308.80,305.50,307.05,307.65,307.22,14120513.00,4338137600.00,83419,5555959,39.35),(488,'SBIN','2017-05-19',302.95,304.45,315.30,302.00,308.95,308.00,308.83,55250968.00,17062912000.00,339663,10945486,19.81);
/*!40000 ALTER TABLE `equity_data_has_pattern_rally_top` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `equity_data_has_pattern_top_temp`
--

DROP TABLE IF EXISTS `equity_data_has_pattern_top_temp`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `equity_data_has_pattern_top_temp` (
  `ROW_ID` int(5) NOT NULL AUTO_INCREMENT,
  `SYMBOL` varchar(45) NOT NULL,
  `CURR_DATE` date NOT NULL,
  `PREV_CLOSE` float(10,2) DEFAULT NULL,
  `OPEN_PRICE` float(10,2) DEFAULT NULL,
  `HIGH_PRICE` float(10,2) DEFAULT NULL,
  `LOW_PRICE` float(10,2) DEFAULT NULL,
  `LAST_PRICE` float(10,2) DEFAULT NULL,
  `CLOSE_PRICE` float(10,2) DEFAULT NULL,
  `AVERAGE_PRICE` float(10,2) DEFAULT NULL,
  `TOTAL_TRADED_QUANTITY` float(20,2) DEFAULT NULL,
  `TURNOVER` float(20,2) DEFAULT NULL,
  `NO_OF_TRADES` int(11) DEFAULT NULL,
  `DELIVERABLE_QTY` int(11) DEFAULT NULL,
  `PERCENT_DELIVERABLE_QTY` float(10,2) DEFAULT NULL,
  PRIMARY KEY (`ROW_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1692 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `equity_data_has_pattern_top_temp`
--

LOCK TABLES `equity_data_has_pattern_top_temp` WRITE;
/*!40000 ALTER TABLE `equity_data_has_pattern_top_temp` DISABLE KEYS */;
INSERT INTO `equity_data_has_pattern_top_temp` VALUES (16,'SBIN','2015-06-22',260.15,260.90,267.40,260.80,266.50,266.00,264.95,11051382.00,2928051456.00,115204,3468787,31.39),(17,'SBIN','2015-06-23',266.00,269.40,271.20,266.25,267.30,267.75,268.64,16180083.00,4346565120.00,120863,7106508,43.92),(24,'SBIN','2015-07-02',267.75,267.90,271.25,266.10,268.10,267.85,268.59,8741783.00,2347918848.00,84937,2653914,30.36),(25,'SBIN','2015-07-03',267.85,267.35,270.00,266.80,269.45,269.40,268.55,7238541.00,1943897600.00,59501,2101416,29.03),(26,'SBIN','2015-07-06',269.40,263.20,271.50,262.00,271.45,270.80,266.67,9458200.00,2522212608.00,75916,2406764,25.45),(27,'SBIN','2015-07-07',270.80,270.40,274.65,270.00,273.80,272.90,272.60,12523410.00,3413843712.00,106296,6386313,50.99),(31,'SBIN','2015-07-13',270.55,272.00,274.35,267.90,273.50,273.70,271.57,8423083.00,2287470592.00,80546,2023632,24.02),(46,'SBIN','2015-08-03',270.05,270.00,283.00,269.90,281.25,281.05,279.67,21901780.00,6125372928.00,171677,8746287,39.93),(47,'SBIN','2015-08-04',281.05,282.50,289.95,276.40,289.00,288.60,284.26,28858888.00,8203513856.00,202238,10818026,37.49),(49,'SBIN','2015-08-06',285.40,285.60,290.80,282.00,290.00,289.05,286.91,15372143.00,4410468864.00,113784,7685472,50.00),(79,'SBIN','2015-09-18',236.80,240.00,246.45,239.50,240.70,242.00,243.58,16049395.00,3909275392.00,132524,4918010,30.64),(80,'SBIN','2015-09-21',242.00,239.55,246.00,237.25,245.75,245.25,242.60,9602436.00,2329533952.00,84490,1672108,17.41),(90,'SBIN','2015-10-07',240.10,240.15,244.25,239.05,243.65,243.55,242.42,10608795.00,2571813376.00,78909,2611552,24.62),(93,'SBIN','2015-10-12',243.45,244.10,245.65,241.30,244.15,244.55,244.27,7566962.00,1848345472.00,57702,2819307,37.26),(96,'SBIN','2015-10-15',244.25,246.00,249.90,245.50,249.05,248.95,248.42,11582401.00,2877244416.00,86325,3894772,33.63),(97,'SBIN','2015-10-16',248.95,249.85,257.15,248.35,256.80,254.85,251.84,11738832.00,2956324864.00,84407,3725598,31.74),(116,'SBIN','2015-11-16',240.25,239.50,249.35,239.10,249.00,248.30,245.34,14051479.00,3447347200.00,99089,4847882,34.50),(124,'SBIN','2015-11-27',242.50,243.00,250.50,242.80,249.60,249.70,247.42,15149912.00,3748351744.00,95949,5447738,35.96),(125,'SBIN','2015-11-30',249.70,249.65,253.00,245.00,248.65,250.20,250.91,12865469.00,3228127744.00,107373,6136099,47.69),(190,'SBIN','2016-03-02',162.05,172.50,183.20,172.50,182.40,181.15,177.82,53333756.00,9483964416.00,288251,16432378,30.81),(191,'SBIN','2016-03-03',181.15,184.00,184.60,178.50,183.60,182.75,181.28,33507048.00,6074173952.00,192218,6099812,18.20),(192,'SBIN','2016-03-04',182.75,183.40,189.85,178.50,189.10,188.40,185.00,38860712.00,7189420032.00,212758,6154362,15.84),(201,'SBIN','2016-03-18',186.35,186.85,192.00,186.00,191.50,191.25,189.06,21144216.00,3997511168.00,134926,6611156,31.27),(202,'SBIN','2016-03-21',191.25,193.00,197.30,193.00,197.05,196.80,195.30,20678068.00,4038513920.00,143523,6513731,31.50),(203,'SBIN','2016-03-22',196.80,196.80,198.25,194.50,197.90,197.50,196.38,16728809.00,3285173248.00,116859,3908068,23.36),(207,'SBIN','2016-03-30',189.50,192.25,198.30,190.50,197.05,197.55,194.81,20709408.00,4034427648.00,126461,4691725,22.66),(220,'SBIN','2016-04-21',187.30,190.50,197.40,190.00,193.50,194.35,194.77,31008152.00,6039360000.00,157469,10222408,32.97),(221,'SBIN','2016-04-22',194.35,193.60,201.50,191.55,200.25,200.15,198.29,34049764.00,6751869952.00,194929,9141444,26.85),(223,'SBIN','2016-04-26',197.05,195.95,201.40,194.55,200.80,200.95,198.76,21809452.00,4334812160.00,126638,4502133,20.64),(246,'SBIN','2016-05-27',184.15,184.00,202.40,181.50,201.30,195.90,189.38,85585824.00,16208396288.00,447197,18274572,21.35),(247,'SBIN','2016-05-30',195.90,200.20,203.90,194.60,197.80,198.85,198.46,46075948.00,9144309760.00,246811,14953723,32.45),(248,'SBIN','2016-05-31',198.85,198.80,205.70,196.20,205.30,204.95,201.54,39457648.00,7952388608.00,227995,11774756,29.84),(253,'SBIN','2016-06-07',198.90,200.45,211.15,200.15,210.15,210.15,205.82,66063192.00,13597283328.00,363240,18623978,28.19),(254,'SBIN','2016-06-08',210.15,210.15,211.90,207.55,209.90,210.70,210.28,35163092.00,7394208256.00,191274,10519149,29.92),(259,'SBIN','2016-06-15',207.70,209.75,217.55,208.55,215.25,216.05,213.78,48362744.00,10338917376.00,262445,8804444,18.21),(265,'SBIN','2016-06-23',212.90,213.00,218.00,212.75,217.80,217.55,215.84,20666648.00,4460588032.00,125144,6492054,31.41),(270,'SBIN','2016-06-30',217.20,220.00,221.90,217.90,219.30,218.80,219.92,30600996.00,6729755136.00,134433,8573520,28.02),(271,'SBIN','2016-07-01',218.80,220.80,221.00,218.90,219.20,219.60,219.93,15346865.00,3375271168.00,76742,4010619,26.13),(272,'SBIN','2016-07-04',219.60,222.35,224.35,222.00,222.90,223.00,223.16,16534518.00,3689841920.00,92943,3792823,22.94),(273,'SBIN','2016-07-05',223.00,223.25,225.15,221.55,223.00,223.50,223.72,15357018.00,3435729152.00,102896,4498810,29.29),(276,'SBIN','2016-07-11',218.30,223.60,225.45,222.00,224.50,224.70,223.59,15831791.00,3539855616.00,82208,5654844,35.72),(277,'SBIN','2016-07-12',224.70,225.00,227.20,224.15,226.75,226.70,226.10,19374180.00,4380494848.00,96849,7895882,40.75),(278,'SBIN','2016-07-13',226.70,227.00,228.50,223.95,226.75,227.70,226.83,18377332.00,4168619264.00,102415,5491345,29.88),(279,'SBIN','2016-07-14',227.70,227.00,232.85,226.00,231.75,232.00,230.43,21208020.00,4886952448.00,124475,5697439,26.86),(295,'SBIN','2016-08-05',225.65,227.35,233.90,226.90,231.85,232.75,232.09,21264296.00,4935293440.00,113047,8017919,37.71),(296,'SBIN','2016-08-08',232.75,233.95,235.90,231.70,232.65,233.25,233.54,16972828.00,3963838720.00,79004,5892060,34.71),(297,'SBIN','2016-08-09',233.25,234.25,238.00,232.65,235.50,235.15,234.92,19854184.00,4664086528.00,109330,5586660,28.14),(300,'SBIN','2016-08-12',227.15,227.00,247.95,224.40,243.60,243.30,240.56,86616472.00,20836726784.00,458828,24769437,28.60),(301,'SBIN','2016-08-16',243.30,245.25,247.90,242.65,246.20,246.75,245.15,27709872.00,6792957440.00,135110,6723968,24.27),(303,'SBIN','2016-08-18',246.25,246.90,250.40,246.55,248.20,248.40,248.77,14314950.00,3561094144.00,82107,3773825,26.36),(304,'SBIN','2016-08-19',248.40,255.00,260.00,253.50,258.50,258.50,256.76,39822528.00,10224911360.00,209689,11933585,29.97),(315,'SBIN','2016-09-06',254.60,257.20,261.50,256.00,261.30,260.10,258.83,16620963.00,4302065664.00,159177,8417509,50.64),(316,'SBIN','2016-09-07',260.10,262.90,270.30,260.40,267.00,266.80,266.14,30862336.00,8213706240.00,164647,12072931,39.12),(317,'SBIN','2016-09-08',266.80,268.00,271.60,266.90,267.80,268.35,269.03,14339143.00,3857639680.00,79489,4554367,31.76),(334,'SBIN','2016-10-04',255.30,255.80,262.00,253.80,261.00,259.75,257.53,21532806.00,5545444864.00,117839,6172659,28.67),(335,'SBIN','2016-10-05',259.75,262.00,264.90,259.55,260.00,260.85,262.58,20868556.00,5479613952.00,133186,9608356,46.04),(346,'SBIN','2016-10-24',258.50,259.30,264.90,259.30,262.80,262.95,263.27,14483254.00,3813057536.00,112379,5944535,41.04),(359,'SBIN','2016-11-10',260.00,267.00,284.20,265.25,281.35,281.30,277.76,50227560.00,13951278080.00,316412,14611697,29.09),(379,'SBIN','2016-12-09',259.90,260.80,267.20,258.80,266.60,266.65,264.21,16004173.00,4228457216.00,103824,5188994,32.42),(402,'SBIN','2017-01-11',248.30,249.65,253.20,249.00,251.70,252.15,251.31,13415303.00,3371362560.00,88947,4496383,33.52),(405,'SBIN','2017-01-16',250.90,251.05,256.40,250.70,256.40,255.75,254.48,13234727.00,3367988736.00,103243,6268943,47.37),(406,'SBIN','2017-01-17',255.75,257.45,258.65,254.40,255.90,256.00,256.89,9480201.00,2435403264.00,78812,2606666,27.50),(407,'SBIN','2017-01-18',256.00,257.10,259.30,256.60,258.30,258.35,258.06,8048897.00,2077100544.00,67626,2556065,31.76),(408,'SBIN','2017-01-19',258.35,257.20,262.00,256.50,258.05,258.40,259.16,13029151.00,3376641280.00,90954,4631679,35.55),(412,'SBIN','2017-01-25',254.90,255.55,261.00,254.20,259.85,259.20,256.69,16343545.00,4195160320.00,100850,9274609,56.75),(413,'SBIN','2017-01-27',259.20,260.30,268.20,259.50,266.50,266.45,264.82,18039380.00,4777271296.00,141762,6528038,36.19),(416,'SBIN','2017-02-01',260.35,262.00,271.90,261.60,271.40,270.70,267.29,27253142.00,7284539392.00,162896,8648465,31.73),(417,'SBIN','2017-02-02',270.70,271.85,275.00,268.70,272.75,273.30,272.45,20139956.00,5487069696.00,115076,6787511,33.70),(418,'SBIN','2017-02-03',273.30,273.00,278.55,272.00,278.10,277.55,276.42,15366890.00,4247716096.00,96972,5823909,37.90),(420,'SBIN','2017-02-07',277.05,277.85,280.00,276.30,277.60,277.90,278.05,10981984.00,3053553664.00,71911,3158033,28.76),(441,'SBIN','2017-03-09',269.90,269.00,273.90,268.40,273.15,273.25,272.15,15594429.00,4244086528.00,95804,7576329,48.58),(443,'SBIN','2017-03-14',272.05,278.40,278.40,273.80,274.75,274.65,275.43,15734886.00,4333927936.00,108786,7747107,49.24),(444,'SBIN','2017-03-15',274.65,272.65,280.50,272.65,276.55,277.35,277.95,20055974.00,5574549504.00,127137,9841167,49.07),(445,'SBIN','2017-03-16',277.35,278.00,280.20,276.05,279.05,279.30,278.38,18005184.00,5012227072.00,139878,8827321,49.03),(452,'SBIN','2017-03-27',276.50,276.00,280.80,275.20,278.90,279.45,278.73,15966114.00,4450236928.00,103411,5464685,34.23),(453,'SBIN','2017-03-28',279.45,280.65,282.90,278.50,282.20,282.10,280.87,18673372.00,5244849152.00,89603,10584347,56.68),(454,'SBIN','2017-03-29',282.10,283.15,289.90,283.15,288.70,288.45,287.10,31008408.00,8902363136.00,160418,16769893,54.08),(455,'SBIN','2017-03-30',288.45,289.00,293.75,288.85,291.40,291.05,291.33,19683170.00,5734340096.00,111949,7306917,37.12),(456,'SBIN','2017-03-31',291.05,292.00,295.00,288.50,293.30,293.40,292.77,20185268.00,5909721088.00,121335,6436380,31.89),(458,'SBIN','2017-04-05',293.15,293.30,298.75,289.65,297.00,297.35,294.71,21936648.00,6465018368.00,143045,9434760,43.01),(477,'SBIN','2017-05-04',289.80,294.00,300.00,293.10,299.80,299.05,296.49,24534924.00,7274385408.00,141660,7644530,31.16),(479,'SBIN','2017-05-08',296.00,296.10,300.75,293.90,298.80,299.40,298.68,11560550.00,3452852992.00,87129,3497415,30.25),(484,'SBIN','2017-05-15',297.90,298.40,302.00,297.50,300.85,301.40,300.31,10383539.00,3118315008.00,85232,4253034,40.96),(485,'SBIN','2017-05-16',301.40,302.00,308.40,299.35,308.05,307.50,304.43,17533440.00,5337697280.00,130379,6038637,34.44),(486,'SBIN','2017-05-17',307.50,308.00,308.80,305.50,307.05,307.65,307.22,14120513.00,4338137600.00,83419,5555959,39.35),(488,'SBIN','2017-05-19',302.95,304.45,315.30,302.00,308.95,308.00,308.83,55250968.00,17062912000.00,339663,10945486,19.81);
/*!40000 ALTER TABLE `equity_data_has_pattern_top_temp` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `equity_data_has_second_shoulder_top`
--

DROP TABLE IF EXISTS `equity_data_has_second_shoulder_top`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `equity_data_has_second_shoulder_top` (
  `head_row_id` int(5) NOT NULL,
  `ROW_ID` int(5) NOT NULL,
  `SYMBOL` varchar(45) NOT NULL,
  `CURR_DATE` date NOT NULL,
  `PREV_CLOSE` float DEFAULT NULL,
  `OPEN_PRICE` float DEFAULT NULL,
  `HIGH_PRICE` float DEFAULT NULL,
  `LOW_PRICE` float DEFAULT NULL,
  `LAST_PRICE` float DEFAULT NULL,
  `CLOSE_PRICE` float DEFAULT NULL,
  `AVERAGE_PRICE` float DEFAULT NULL,
  `TOTAL_TRADED_QUANTITY` float DEFAULT NULL,
  `TURNOVER` float DEFAULT NULL,
  `NO_OF_TRADES` int(11) DEFAULT NULL,
  `DELIVERABLE_QTY` int(11) DEFAULT NULL,
  `PERCENT_DELIVERABLE_QTY` float DEFAULT NULL,
  PRIMARY KEY (`ROW_ID`,`head_row_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `equity_data_has_second_shoulder_top`
--

LOCK TABLES `equity_data_has_second_shoulder_top` WRITE;
/*!40000 ALTER TABLE `equity_data_has_second_shoulder_top` DISABLE KEYS */;
INSERT INTO `equity_data_has_second_shoulder_top` VALUES (49,51,'SBIN','2015-08-10',281.3,282.05,286,280.1,282.5,282.75,283.7,14694900,4168990000,96782,7583766,51.61),(420,362,'SBIN','2016-11-16',278.2,284,284.8,276.15,277.65,277.2,278.73,27532700,7674140000,158917,10888066,39.55),(420,421,'SBIN','2017-02-08',277.9,278.1,279.25,272.6,278.7,277.2,276.47,13622100,3766100000,80900,4651632,34.15),(458,459,'SBIN','2017-04-06',297.35,295.45,297.55,291.45,292.25,292.85,294.35,18413100,5419870000,90051,6325489,34.35);
/*!40000 ALTER TABLE `equity_data_has_second_shoulder_top` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `has_event_log`
--

DROP TABLE IF EXISTS `has_event_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `has_event_log` (
  `has_event_log_id` int(11) NOT NULL AUTO_INCREMENT,
  `eval_run_id` int(11) DEFAULT NULL,
  `has_event_short_desc` varchar(45) DEFAULT NULL,
  `has_event_desc` varchar(200) NOT NULL,
  PRIMARY KEY (`has_event_log_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `has_event_log`
--

LOCK TABLES `has_event_log` WRITE;
/*!40000 ALTER TABLE `has_event_log` DISABLE KEYS */;
/*!40000 ALTER TABLE `has_event_log` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `has_first_shoulder_data`
--

DROP TABLE IF EXISTS `has_first_shoulder_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `has_first_shoulder_data` (
  `first_shoulder_top_row_id` int(5) NOT NULL,
  `first_shoulder_top_date` date NOT NULL,
  `first_shoulder_top_close_price` float NOT NULL,
  `first_shoulder_low_row_id` int(5) DEFAULT NULL,
  `first_shoulder_low_date` date DEFAULT NULL,
  `first_shoulder_low_close_price` float DEFAULT NULL,
  `head_row_id` int(5) NOT NULL,
  `head_date` date NOT NULL,
  `head_close_price` float NOT NULL,
  `head_low_row_id` int(5) DEFAULT NULL,
  `head_low_date` date DEFAULT NULL,
  `head_low_close_price` float DEFAULT NULL,
  PRIMARY KEY (`first_shoulder_top_row_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `has_first_shoulder_data`
--

LOCK TABLES `has_first_shoulder_data` WRITE;
/*!40000 ALTER TABLE `has_first_shoulder_data` DISABLE KEYS */;
INSERT INTO `has_first_shoulder_data` VALUES (47,'2015-08-04',288.6,48,'2015-08-05',285.4,49,'2015-08-06',289.05,50,'2015-08-07',281.3),(221,'2016-04-22',200.15,222,'2016-04-25',197.05,223,'2016-04-26',200.95,224,'2016-04-27',196.15),(418,'2017-02-03',277.55,419,'2017-02-06',277.05,420,'2017-02-07',277.9,421,'2017-02-08',277.2),(456,'2017-03-31',293.4,457,'2017-04-03',293.15,458,'2017-04-05',297.35,459,'2017-04-06',292.85),(477,'2017-05-04',299.05,478,'2017-05-05',296,479,'2017-05-08',299.4,480,'2017-05-09',296.5),(486,'2017-05-17',307.65,487,'2017-05-18',302.95,488,'2017-05-19',308,489,'2017-05-22',294.3);
/*!40000 ALTER TABLE `has_first_shoulder_data` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `has_neckline_points`
--

DROP TABLE IF EXISTS `has_neckline_points`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `has_neckline_points` (
  `has_id` int(11) NOT NULL,
  `row_id` int(11) NOT NULL,
  `curr_date` date DEFAULT NULL,
  `price_value` float DEFAULT NULL,
  PRIMARY KEY (`has_id`,`row_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `has_neckline_points`
--

LOCK TABLES `has_neckline_points` WRITE;
/*!40000 ALTER TABLE `has_neckline_points` DISABLE KEYS */;
INSERT INTO `has_neckline_points` VALUES (34,49,'2015-08-06',279.692),(34,50,'2015-08-07',273.984),(34,51,'2015-08-10',268.276),(34,52,'2015-08-11',262.568),(34,53,'2015-08-12',256.86),(34,54,'2015-08-13',251.152),(34,55,'2015-08-14',245.444),(34,56,'2015-08-17',239.736),(35,223,'2016-04-26',196.6),(35,224,'2016-04-27',196.15),(35,225,'2016-04-28',195.7),(35,226,'2016-04-29',195.25),(35,227,'2016-05-02',194.8),(35,228,'2016-05-03',194.35),(35,229,'2016-05-04',193.9),(35,230,'2016-05-05',193.45),(36,420,'2017-02-07',277.125),(36,421,'2017-02-08',277.2),(36,422,'2017-02-09',277.275),(36,423,'2017-02-10',277.35),(36,424,'2017-02-13',277.425),(36,425,'2017-02-14',277.5),(36,426,'2017-02-15',277.575),(36,427,'2017-02-16',277.65),(37,458,'2017-04-05',293),(37,459,'2017-04-06',292.85),(37,460,'2017-04-07',292.7),(37,461,'2017-04-10',292.55),(37,462,'2017-04-11',292.4),(37,463,'2017-04-12',292.25),(37,464,'2017-04-13',292.1),(37,465,'2017-04-17',291.95),(38,479,'2017-05-08',296.25),(38,480,'2017-05-09',296.5),(38,481,'2017-05-10',296.75),(38,482,'2017-05-11',297),(38,483,'2017-05-12',297.25),(38,484,'2017-05-15',297.5),(38,485,'2017-05-16',297.75),(38,486,'2017-05-17',298),(39,488,'2017-05-19',296.891),(39,489,'2017-05-22',290.832),(39,490,'2017-05-23',284.773),(39,491,'2017-05-24',278.714),(39,492,'2017-05-25',272.655),(39,493,'2017-05-26',266.596),(39,494,'2017-05-29',260.537),(39,495,'2017-05-30',254.478);
/*!40000 ALTER TABLE `has_neckline_points` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `has_pattern_rules`
--

DROP TABLE IF EXISTS `has_pattern_rules`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `has_pattern_rules` (
  `rule_id` int(11) NOT NULL,
  `rule_name` varchar(45) DEFAULT NULL,
  `rule_value` float NOT NULL,
  `rule_desc` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`rule_id`),
  UNIQUE KEY `rule_name_UNIQUE` (`rule_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `has_pattern_rules`
--

LOCK TABLES `has_pattern_rules` WRITE;
/*!40000 ALTER TABLE `has_pattern_rules` DISABLE KEYS */;
INSERT INTO `has_pattern_rules` VALUES (1,'HEAD_DURATION_PERCENTAGE_OF_RALLY',5,'TIME TAKEN TO MAKE LOW AFTER IDENTIFYING HEAD PEAK. ALSO SAME TIME IS USED TO VERIFY THAT THIS IS LOW POINT FROM FUTURE VALUES'),(2,'MAX_NECKLINE_SLOPE_ABSOLUTE_VALUE',0.5,'MAX VALUE FOR SLOPE OF NECKLINE IN ABSOLUTE TERMS');
/*!40000 ALTER TABLE `has_pattern_rules` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `has_pattern_type`
--

DROP TABLE IF EXISTS `has_pattern_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `has_pattern_type` (
  `type_id` int(11) NOT NULL,
  `type_name` varchar(45) DEFAULT NULL,
  `type_desc` varchar(250) DEFAULT NULL,
  PRIMARY KEY (`type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `has_pattern_type`
--

LOCK TABLES `has_pattern_type` WRITE;
/*!40000 ALTER TABLE `has_pattern_type` DISABLE KEYS */;
INSERT INTO `has_pattern_type` VALUES (1,'SHORT_CUT',NULL),(2,'FULL_LOW',NULL);
/*!40000 ALTER TABLE `has_pattern_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `has_pattern_types`
--

DROP TABLE IF EXISTS `has_pattern_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `has_pattern_types` (
  `type_id` int(11) NOT NULL,
  `type_name` varchar(45) DEFAULT NULL,
  `type_desc` varchar(250) DEFAULT NULL,
  PRIMARY KEY (`type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `has_pattern_types`
--

LOCK TABLES `has_pattern_types` WRITE;
/*!40000 ALTER TABLE `has_pattern_types` DISABLE KEYS */;
/*!40000 ALTER TABLE `has_pattern_types` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `identified_has_data`
--

DROP TABLE IF EXISTS `identified_has_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `identified_has_data` (
  `has_id` int(5) NOT NULL AUTO_INCREMENT,
  `symbol` varchar(45) NOT NULL,
  `first_shoulder_top_row_id` int(5) NOT NULL,
  `first_shoulder_top_date` date DEFAULT NULL,
  `first_shoulder_top_close_price` float DEFAULT NULL,
  `first_shoulder_low_row_id` int(5) DEFAULT NULL,
  `first_shoulder_low_date` date DEFAULT NULL,
  `first_shoulder_low_close_price` float DEFAULT NULL,
  `head_row_id` int(5) DEFAULT NULL,
  `head_date` date DEFAULT NULL,
  `head_close_price` float DEFAULT NULL,
  `head_low_row_id` int(5) DEFAULT NULL,
  `head_low_date` date DEFAULT NULL,
  `head_low_close_price` float DEFAULT NULL,
  `second_shoulder_top_row_id` int(5) DEFAULT NULL,
  `second_shoulder_top_date` date DEFAULT NULL,
  `second_shoulder_top_close_price` float DEFAULT NULL,
  `second_shoulder_low_row_id` int(5) DEFAULT NULL,
  `second_shoulder_low_date` date DEFAULT NULL,
  `second_shoulder_low_close_price` float DEFAULT NULL,
  PRIMARY KEY (`has_id`,`symbol`,`first_shoulder_top_row_id`)
) ENGINE=InnoDB AUTO_INCREMENT=40 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `identified_has_data`
--

LOCK TABLES `identified_has_data` WRITE;
/*!40000 ALTER TABLE `identified_has_data` DISABLE KEYS */;
INSERT INTO `identified_has_data` VALUES (34,'SBIN',47,'2015-08-04',288.6,48,'2015-08-05',285.4,49,'2015-08-06',289.05,50,'2015-08-07',281.3,51,'2015-08-10',282.75,NULL,NULL,NULL),(35,'SBIN',221,'2016-04-22',200.15,222,'2016-04-25',197.05,223,'2016-04-26',200.95,224,'2016-04-27',196.15,NULL,NULL,NULL,NULL,NULL,NULL),(36,'SBIN',418,'2017-02-03',277.55,419,'2017-02-06',277.05,420,'2017-02-07',277.9,421,'2017-02-08',277.2,362,'2016-11-16',277.2,NULL,NULL,NULL),(37,'SBIN',456,'2017-03-31',293.4,457,'2017-04-03',293.15,458,'2017-04-05',297.35,459,'2017-04-06',292.85,459,'2017-04-06',292.85,NULL,NULL,NULL),(38,'SBIN',477,'2017-05-04',299.05,478,'2017-05-05',296,479,'2017-05-08',299.4,480,'2017-05-09',296.5,NULL,NULL,NULL,NULL,NULL,NULL),(39,'SBIN',486,'2017-05-17',307.65,487,'2017-05-18',302.95,488,'2017-05-19',308,489,'2017-05-22',294.3,NULL,NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `identified_has_data` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `identified_has_neckline_data`
--

DROP TABLE IF EXISTS `identified_has_neckline_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `identified_has_neckline_data` (
  `has_id` int(5) NOT NULL AUTO_INCREMENT,
  `first_shoulder_low_row_id` int(5) DEFAULT NULL,
  `first_shoulder_low_date` date DEFAULT NULL,
  `first_shoulder_low_close_price` float DEFAULT NULL,
  `neckline_slope_value` float DEFAULT NULL,
  PRIMARY KEY (`has_id`)
) ENGINE=InnoDB AUTO_INCREMENT=40 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `identified_has_neckline_data`
--

LOCK TABLES `identified_has_neckline_data` WRITE;
/*!40000 ALTER TABLE `identified_has_neckline_data` DISABLE KEYS */;
INSERT INTO `identified_has_neckline_data` VALUES (34,48,'2015-08-05',285.4,-2),(35,222,'2016-04-25',197.05,-0.228371),(36,419,'2017-02-06',277.05,0.0270753),(37,457,'2017-04-03',293.15,-0.0511663),(38,478,'2017-05-05',296,0.0844595),(39,487,'2017-05-18',302.95,-2);
/*!40000 ALTER TABLE `identified_has_neckline_data` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `identified_has_pattern_type`
--

DROP TABLE IF EXISTS `identified_has_pattern_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `identified_has_pattern_type` (
  `has_id` int(11) NOT NULL,
  `identified_pattern_type_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`has_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `identified_has_pattern_type`
--

LOCK TABLES `identified_has_pattern_type` WRITE;
/*!40000 ALTER TABLE `identified_has_pattern_type` DISABLE KEYS */;
/*!40000 ALTER TABLE `identified_has_pattern_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `market_sessions`
--

DROP TABLE IF EXISTS `market_sessions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `market_sessions` (
  `row_id` int(5) NOT NULL,
  `session_date` date DEFAULT NULL,
  PRIMARY KEY (`row_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `market_sessions`
--

LOCK TABLES `market_sessions` WRITE;
/*!40000 ALTER TABLE `market_sessions` DISABLE KEYS */;
INSERT INTO `market_sessions` VALUES (1,'2015-06-01'),(2,'2015-06-02'),(3,'2015-06-03'),(4,'2015-06-04'),(5,'2015-06-05'),(6,'2015-06-08'),(7,'2015-06-09'),(8,'2015-06-10'),(9,'2015-06-11'),(10,'2015-06-12'),(11,'2015-06-15'),(12,'2015-06-16'),(13,'2015-06-17'),(14,'2015-06-18'),(15,'2015-06-19'),(16,'2015-06-22'),(17,'2015-06-23'),(18,'2015-06-24'),(19,'2015-06-25'),(20,'2015-06-26'),(21,'2015-06-29'),(22,'2015-06-30'),(23,'2015-07-01'),(24,'2015-07-02'),(25,'2015-07-03'),(26,'2015-07-06'),(27,'2015-07-07'),(28,'2015-07-08'),(29,'2015-07-09'),(30,'2015-07-10'),(31,'2015-07-13'),(32,'2015-07-14'),(33,'2015-07-15'),(34,'2015-07-16'),(35,'2015-07-17'),(36,'2015-07-20'),(37,'2015-07-21'),(38,'2015-07-22'),(39,'2015-07-23'),(40,'2015-07-24'),(41,'2015-07-27'),(42,'2015-07-28'),(43,'2015-07-29'),(44,'2015-07-30'),(45,'2015-07-31'),(46,'2015-08-03'),(47,'2015-08-04'),(48,'2015-08-05'),(49,'2015-08-06'),(50,'2015-08-07'),(51,'2015-08-10'),(52,'2015-08-11'),(53,'2015-08-12'),(54,'2015-08-13'),(55,'2015-08-14'),(56,'2015-08-17'),(57,'2015-08-18'),(58,'2015-08-19'),(59,'2015-08-20'),(60,'2015-08-21'),(61,'2015-08-24'),(62,'2015-08-25'),(63,'2015-08-26'),(64,'2015-08-27'),(65,'2015-08-28'),(66,'2015-08-31'),(67,'2015-09-01'),(68,'2015-09-02'),(69,'2015-09-03'),(70,'2015-09-04'),(71,'2015-09-07'),(72,'2015-09-08'),(73,'2015-09-09'),(74,'2015-09-10'),(75,'2015-09-11'),(76,'2015-09-14'),(77,'2015-09-15'),(78,'2015-09-16'),(79,'2015-09-18'),(80,'2015-09-21'),(81,'2015-09-22'),(82,'2015-09-23'),(83,'2015-09-24'),(84,'2015-09-28'),(85,'2015-09-29'),(86,'2015-09-30'),(87,'2015-10-01'),(88,'2015-10-05'),(89,'2015-10-06'),(90,'2015-10-07'),(91,'2015-10-08'),(92,'2015-10-09'),(93,'2015-10-12'),(94,'2015-10-13'),(95,'2015-10-14'),(96,'2015-10-15'),(97,'2015-10-16'),(98,'2015-10-19'),(99,'2015-10-20'),(100,'2015-10-21'),(101,'2015-10-23'),(102,'2015-10-26'),(103,'2015-10-27'),(104,'2015-10-28'),(105,'2015-10-29'),(106,'2015-10-30'),(107,'2015-11-02'),(108,'2015-11-03'),(109,'2015-11-04'),(110,'2015-11-05'),(111,'2015-11-06'),(112,'2015-11-09'),(113,'2015-11-10'),(114,'2015-11-11'),(115,'2015-11-13'),(116,'2015-11-16'),(117,'2015-11-17'),(118,'2015-11-18'),(119,'2015-11-19'),(120,'2015-11-20'),(121,'2015-11-23'),(122,'2015-11-24'),(123,'2015-11-26'),(124,'2015-11-27'),(125,'2015-11-30'),(126,'2015-12-01'),(127,'2015-12-02'),(128,'2015-12-03'),(129,'2015-12-04'),(130,'2015-12-07'),(131,'2015-12-08'),(132,'2015-12-09'),(133,'2015-12-10'),(134,'2015-12-11'),(135,'2015-12-14'),(136,'2015-12-15'),(137,'2015-12-16'),(138,'2015-12-17'),(139,'2015-12-18'),(140,'2015-12-21'),(141,'2015-12-22'),(142,'2015-12-23'),(143,'2015-12-24'),(144,'2015-12-28'),(145,'2015-12-29'),(146,'2015-12-30'),(147,'2015-12-31'),(148,'2016-01-01'),(149,'2016-01-04'),(150,'2016-01-05'),(151,'2016-01-06'),(152,'2016-01-07'),(153,'2016-01-08'),(154,'2016-01-11'),(155,'2016-01-12'),(156,'2016-01-13'),(157,'2016-01-14'),(158,'2016-01-15'),(159,'2016-01-18'),(160,'2016-01-19'),(161,'2016-01-20'),(162,'2016-01-21'),(163,'2016-01-22'),(164,'2016-01-25'),(165,'2016-01-27'),(166,'2016-01-28'),(167,'2016-01-29'),(168,'2016-02-01'),(169,'2016-02-02'),(170,'2016-02-03'),(171,'2016-02-04'),(172,'2016-02-05'),(173,'2016-02-08'),(174,'2016-02-09'),(175,'2016-02-10'),(176,'2016-02-11'),(177,'2016-02-12'),(178,'2016-02-15'),(179,'2016-02-16'),(180,'2016-02-17'),(181,'2016-02-18'),(182,'2016-02-19'),(183,'2016-02-22'),(184,'2016-02-23'),(185,'2016-02-24'),(186,'2016-02-25'),(187,'2016-02-26'),(188,'2016-02-29'),(189,'2016-03-01'),(190,'2016-03-02'),(191,'2016-03-03'),(192,'2016-03-04'),(193,'2016-03-08'),(194,'2016-03-09'),(195,'2016-03-10'),(196,'2016-03-11'),(197,'2016-03-14'),(198,'2016-03-15'),(199,'2016-03-16'),(200,'2016-03-17'),(201,'2016-03-18'),(202,'2016-03-21'),(203,'2016-03-22'),(204,'2016-03-23'),(205,'2016-03-28'),(206,'2016-03-29'),(207,'2016-03-30'),(208,'2016-03-31'),(209,'2016-04-01'),(210,'2016-04-04'),(211,'2016-04-05'),(212,'2016-04-06'),(213,'2016-04-07'),(214,'2016-04-08'),(215,'2016-04-11'),(216,'2016-04-12'),(217,'2016-04-13'),(218,'2016-04-18'),(219,'2016-04-20'),(220,'2016-04-21'),(221,'2016-04-22'),(222,'2016-04-25'),(223,'2016-04-26'),(224,'2016-04-27'),(225,'2016-04-28'),(226,'2016-04-29'),(227,'2016-05-02'),(228,'2016-05-03'),(229,'2016-05-04'),(230,'2016-05-05'),(231,'2016-05-06'),(232,'2016-05-09'),(233,'2016-05-10'),(234,'2016-05-11'),(235,'2016-05-12'),(236,'2016-05-13'),(237,'2016-05-16'),(238,'2016-05-17'),(239,'2016-05-18'),(240,'2016-05-19'),(241,'2016-05-20'),(242,'2016-05-23'),(243,'2016-05-24'),(244,'2016-05-25'),(245,'2016-05-26'),(246,'2016-05-27'),(247,'2016-05-30'),(248,'2016-05-31'),(249,'2016-06-01'),(250,'2016-06-02'),(251,'2016-06-03'),(252,'2016-06-06'),(253,'2016-06-07'),(254,'2016-06-08'),(255,'2016-06-09'),(256,'2016-06-10'),(257,'2016-06-13'),(258,'2016-06-14'),(259,'2016-06-15'),(260,'2016-06-16'),(261,'2016-06-17'),(262,'2016-06-20'),(263,'2016-06-21'),(264,'2016-06-22'),(265,'2016-06-23'),(266,'2016-06-24'),(267,'2016-06-27'),(268,'2016-06-28'),(269,'2016-06-29'),(270,'2016-06-30'),(271,'2016-07-01'),(272,'2016-07-04'),(273,'2016-07-05'),(274,'2016-07-07'),(275,'2016-07-08'),(276,'2016-07-11'),(277,'2016-07-12'),(278,'2016-07-13'),(279,'2016-07-14'),(280,'2016-07-15'),(281,'2016-07-18'),(282,'2016-07-19'),(283,'2016-07-20'),(284,'2016-07-21'),(285,'2016-07-22'),(286,'2016-07-25'),(287,'2016-07-26'),(288,'2016-07-27'),(289,'2016-07-28'),(290,'2016-07-29'),(291,'2016-08-01'),(292,'2016-08-02'),(293,'2016-08-03'),(294,'2016-08-04'),(295,'2016-08-05'),(296,'2016-08-08'),(297,'2016-08-09'),(298,'2016-08-10'),(299,'2016-08-11'),(300,'2016-08-12'),(301,'2016-08-16'),(302,'2016-08-17'),(303,'2016-08-18'),(304,'2016-08-19'),(305,'2016-08-22'),(306,'2016-08-23'),(307,'2016-08-24'),(308,'2016-08-25'),(309,'2016-08-26'),(310,'2016-08-29'),(311,'2016-08-30'),(312,'2016-08-31'),(313,'2016-09-01'),(314,'2016-09-02'),(315,'2016-09-06'),(316,'2016-09-07'),(317,'2016-09-08'),(318,'2016-09-09'),(319,'2016-09-12'),(320,'2016-09-14'),(321,'2016-09-15'),(322,'2016-09-16'),(323,'2016-09-19'),(324,'2016-09-20'),(325,'2016-09-21'),(326,'2016-09-22'),(327,'2016-09-23'),(328,'2016-09-26'),(329,'2016-09-27'),(330,'2016-09-28'),(331,'2016-09-29'),(332,'2016-09-30'),(333,'2016-10-03'),(334,'2016-10-04'),(335,'2016-10-05'),(336,'2016-10-06'),(337,'2016-10-07'),(338,'2016-10-10'),(339,'2016-10-13'),(340,'2016-10-14'),(341,'2016-10-17'),(342,'2016-10-18'),(343,'2016-10-19'),(344,'2016-10-20'),(345,'2016-10-21'),(346,'2016-10-24'),(347,'2016-10-25'),(348,'2016-10-26'),(349,'2016-10-27'),(350,'2016-10-28'),(351,'2016-10-30'),(352,'2016-11-01'),(353,'2016-11-02'),(354,'2016-11-03'),(355,'2016-11-04'),(356,'2016-11-07'),(357,'2016-11-08'),(358,'2016-11-09'),(359,'2016-11-10'),(360,'2016-11-11'),(361,'2016-11-15'),(362,'2016-11-16'),(363,'2016-11-17'),(364,'2016-11-18'),(365,'2016-11-21'),(366,'2016-11-22'),(367,'2016-11-23'),(368,'2016-11-24'),(369,'2016-11-25'),(370,'2016-11-28'),(371,'2016-11-29'),(372,'2016-11-30'),(373,'2016-12-01'),(374,'2016-12-02'),(375,'2016-12-05'),(376,'2016-12-06'),(377,'2016-12-07'),(378,'2016-12-08'),(379,'2016-12-09'),(380,'2016-12-12'),(381,'2016-12-13'),(382,'2016-12-14'),(383,'2016-12-15'),(384,'2016-12-16'),(385,'2016-12-19'),(386,'2016-12-20'),(387,'2016-12-21'),(388,'2016-12-22'),(389,'2016-12-23'),(390,'2016-12-26'),(391,'2016-12-27'),(392,'2016-12-28'),(393,'2016-12-29'),(394,'2016-12-30'),(395,'2017-01-02'),(396,'2017-01-03'),(397,'2017-01-04'),(398,'2017-01-05'),(399,'2017-01-06'),(400,'2017-01-09'),(401,'2017-01-10'),(402,'2017-01-11'),(403,'2017-01-12'),(404,'2017-01-13'),(405,'2017-01-16'),(406,'2017-01-17'),(407,'2017-01-18'),(408,'2017-01-19'),(409,'2017-01-20'),(410,'2017-01-23'),(411,'2017-01-24'),(412,'2017-01-25'),(413,'2017-01-27'),(414,'2017-01-30'),(415,'2017-01-31'),(416,'2017-02-01'),(417,'2017-02-02'),(418,'2017-02-03'),(419,'2017-02-06'),(420,'2017-02-07'),(421,'2017-02-08'),(422,'2017-02-09'),(423,'2017-02-10'),(424,'2017-02-13'),(425,'2017-02-14'),(426,'2017-02-15'),(427,'2017-02-16'),(428,'2017-02-17'),(429,'2017-02-20'),(430,'2017-02-21'),(431,'2017-02-22'),(432,'2017-02-23'),(433,'2017-02-27'),(434,'2017-02-28'),(435,'2017-03-01'),(436,'2017-03-02'),(437,'2017-03-03'),(438,'2017-03-06'),(439,'2017-03-07'),(440,'2017-03-08'),(441,'2017-03-09'),(442,'2017-03-10'),(443,'2017-03-14'),(444,'2017-03-15'),(445,'2017-03-16'),(446,'2017-03-17'),(447,'2017-03-20'),(448,'2017-03-21'),(449,'2017-03-22'),(450,'2017-03-23'),(451,'2017-03-24'),(452,'2017-03-27'),(453,'2017-03-28'),(454,'2017-03-29'),(455,'2017-03-30'),(456,'2017-03-31'),(457,'2017-04-03'),(458,'2017-04-05'),(459,'2017-04-06'),(460,'2017-04-07'),(461,'2017-04-10'),(462,'2017-04-11'),(463,'2017-04-12'),(464,'2017-04-13'),(465,'2017-04-17'),(466,'2017-04-18'),(467,'2017-04-19'),(468,'2017-04-20'),(469,'2017-04-21'),(470,'2017-04-24'),(471,'2017-04-25'),(472,'2017-04-26'),(473,'2017-04-27'),(474,'2017-04-28'),(475,'2017-05-02'),(476,'2017-05-03'),(477,'2017-05-04'),(478,'2017-05-05'),(479,'2017-05-08'),(480,'2017-05-09'),(481,'2017-05-10'),(482,'2017-05-11'),(483,'2017-05-12'),(484,'2017-05-15'),(485,'2017-05-16'),(486,'2017-05-17'),(487,'2017-05-18'),(488,'2017-05-19'),(489,'2017-05-22'),(490,'2017-05-23'),(491,'2017-05-24'),(492,'2017-05-25'),(493,'2017-05-26'),(494,'2017-05-29'),(495,'2017-05-30'),(496,'2017-05-31'),(497,'2017-06-01'),(498,'2017-06-02'),(499,'2017-06-05'),(500,'2017-06-06'),(501,'2017-06-07'),(502,'2017-06-08'),(503,'2017-06-09'),(504,'2017-06-12');
/*!40000 ALTER TABLE `market_sessions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping routines for database 'engine_has_pattern'
--
/*!50003 DROP PROCEDURE IF EXISTS `calculate_neckline_data` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `calculate_neckline_data`(
input_has_id int,
input_first_shoulder_low_row_id int,
input_first_shoulder_low_close_price float,
input_first_shoulder_low_date date,
input_head_low_row_id int,
input_head_low_close_price float,
duration_days INT)
BEGIN


declare neckline_slope float default 0.0;

declare price_diff_percentage float default 0.0;

declare VAR_MAX_NECKLINE_SLOPE_ABS_VALUE float default 0.0;



SELECT rule_value FROM engine_has_pattern.has_pattern_rules
where rule_name = 'MAX_NECKLINE_SLOPE_ABSOLUTE_VALUE' into  VAR_MAX_NECKLINE_SLOPE_ABS_VALUE;

set  price_diff_percentage =  (input_head_low_close_price - input_first_shoulder_low_close_price) * 100
                                /  input_first_shoulder_low_close_price;

set neckline_slope =  price_diff_percentage/ (input_head_low_row_id - input_first_shoulder_low_row_id);

if abs(neckline_slope) > VAR_MAX_NECKLINE_SLOPE_ABS_VALUE then

set neckline_slope = neckline_slope/abs(neckline_slope) * VAR_MAX_NECKLINE_SLOPE_ABS_VALUE;  -- set neckline slope to 0.5 or -0.5

end if;

replace INTO engine_has_pattern.identified_has_neckline_data
(has_id,
first_shoulder_low_row_id,
first_shoulder_low_date,
first_shoulder_low_close_price,
neckline_slope_value)
VALUES  (
input_has_id ,
input_first_shoulder_low_row_id ,
input_first_shoulder_low_date ,
input_first_shoulder_low_close_price ,
neckline_slope
);

call calculate_neckline_points(input_has_id,input_first_shoulder_low_row_id,input_first_shoulder_low_close_price,
neckline_slope,duration_days);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `calculate_neckline_points` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `calculate_neckline_points`(
input_has_id int,
input_first_shoulder_low_row_id int,
input_first_shoulder_low_close_price float,
input_neckline_slope float,
duration_days INT)
BEGIN

declare loop_counter int default 0;

declare calculated_price_value float default 0;

declare calculated_row_id int default 0;



set loop_counter =   duration_days / 2;

plot_neckline_loop : LOOP

 IF loop_counter = 0 THEN
 LEAVE plot_neckline_loop;
 END IF;

 set calculated_row_id = loop_counter + input_first_shoulder_low_row_id;

 set calculated_price_value =  input_first_shoulder_low_close_price +
                                 ((loop_counter * input_neckline_slope) * input_first_shoulder_low_close_price/ 100);

replace INTO engine_has_pattern.has_neckline_points
( select  input_has_id,calculated_row_id,a.session_date,calculated_price_value
from engine_has_pattern.market_sessions  a
where   a.ROW_ID = calculated_row_id
);



 set loop_counter = loop_counter - 1;

END LOOP plot_neckline_loop;



END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `data_accumulation` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `data_accumulation`(symbol_in varchar(45),
startDate date,
endDate date,
duration_days INT)
BEGIN


delete from engine_has_pattern.equity_data_has_pattern;

ALTER TABLE engine_has_pattern.equity_data_has_pattern AUTO_INCREMENT =1;


INSERT INTO engine_has_pattern.equity_data_has_pattern

(select NULL,SYMBOL,
CURR_DATE,
PREV_CLOSE,
OPEN_PRICE,
HIGH_PRICE,
LOW_PRICE,
LAST_PRICE,
CLOSE_PRICE,
AVERAGE_PRICE,
TOTAL_TRADED_QUANTITY,
TURNOVER,
NO_OF_TRADES,
DELIVERABLE_QTY,
PERCENT_DELIVERABLE_QTY
 from engine_ea.equity_data_main where symbol = symbol_in
 and CURR_DATE between startDate and
 date_add(endDate, INTERVAL (duration_days/2) day)
 -- endDate
 );


delete from engine_has_pattern.market_sessions;

replace INTO engine_has_pattern.market_sessions

(select a.ROW_ID,a.CURR_DATE from engine_has_pattern.equity_data_has_pattern a);

delete from engine_has_pattern.equity_data_has_pattern  where  CURR_DATE >  endDate;

call validate_market_sessions_data(endDate,duration_days);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `find_first_shoulder` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `find_first_shoulder`(
duration_days INT)
BEGIN

  -- Declare variables used just for cursor and loop control
  DECLARE no_more_rows int;
  DECLARE num_rows INT DEFAULT 0;

  DECLARE current_close_price float DEFAULT 0;

  DECLARE previous_close_price float DEFAULT 0;

  DECLARE current_row_id int DEFAULT 0;

  DECLARE previous_row_id int DEFAULT 0;

  DECLARE current_row_date DATE;

  DECLARE previous_row_date DATE;

  DECLARE HEAD_DUR_PERC_OF_RALLY float DEFAULT 0.0;

  DECLARE CALCULATED_SHOULDER_HEAD_DURATION int DEFAULT 0;




    DECLARE has_rally_tops CURSOR FOR
    SELECT DISTINCT
        ROW_ID,CURR_DATE,CLOSE_PRICE
    FROM engine_has_pattern.equity_data_has_pattern_rally_top
    ORDER BY ROW_ID ASC
;



  -- Declare 'handlers' for exceptions
  DECLARE CONTINUE HANDLER FOR NOT FOUND
    SET no_more_rows = 1;

SELECT rule_value/100 FROM engine_has_pattern.has_pattern_rules
where rule_name = 'HEAD_DURATION_PERCENTAGE_OF_RALLY' into  HEAD_DUR_PERC_OF_RALLY;

SET CALCULATED_SHOULDER_HEAD_DURATION =   2 * ROUND(duration_days * HEAD_DUR_PERC_OF_RALLY );

delete from engine_has_pattern.has_first_shoulder_data;

OPEN has_rally_tops;

 IF no_more_rows = 1 THEN
 close has_rally_tops;
 END IF;

FETCH has_rally_tops INTO previous_row_id,previous_row_date,previous_close_price;

SELECT curr_date FROM engine_has_pattern.equity_data_has_pattern
where row_id = previous_row_id
into previous_row_date;


rally_loop : LOOP

 IF no_more_rows = 1 THEN
 LEAVE rally_loop;
 END IF;


FETCH has_rally_tops INTO current_row_id,current_row_date,current_close_price;

 IF no_more_rows = 1 THEN
 LEAVE rally_loop;
 END IF;

SELECT curr_date FROM engine_has_pattern.equity_data_has_pattern
where row_id = current_row_id
into current_row_date;

IF( current_row_id -  previous_row_id <=  CALCULATED_SHOULDER_HEAD_DURATION
and current_close_price > previous_close_price) THEN

insert into engine_has_pattern.has_first_shoulder_data
values(previous_row_id,previous_row_date,previous_close_price,null,null,null,
current_row_id,current_row_date,current_close_price,null,null,null);

call find_first_shoulder_and_head_low(previous_row_id,current_row_id,duration_days);


END IF;


 set  previous_row_id =   current_row_id;
 set  previous_row_date =   current_row_date;
 set  previous_close_price =   current_close_price;

END LOOP rally_loop;

CLOSE has_rally_tops;




END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `find_first_shoulder_and_head_low` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `find_first_shoulder_and_head_low`(
input_shoulder_top_row_id INT,
input_head_row_id INT,
duration_days INT)
BEGIN

DECLARE HEAD_DUR_PERC_OF_RALLY float DEFAULT 0.0;

DECLARE CALCULATED_RALLY_LOW_DURATION int DEFAULT 0;

DECLARE target_close_price float DEFAULT 0;


DECLARE target_row_id int DEFAULT 0;


DECLARE target_row_date date;


SELECT rule_value/100 FROM engine_has_pattern.has_pattern_rules
where rule_name = 'HEAD_DURATION_PERCENTAGE_OF_RALLY' into  HEAD_DUR_PERC_OF_RALLY;

SET CALCULATED_RALLY_LOW_DURATION =   ROUND(duration_days * HEAD_DUR_PERC_OF_RALLY );


-- update first shoulder related low point details


SELECT a.row_id, a.curr_date, a. CLOSE_PRICE FROM engine_has_pattern.equity_data_has_pattern a
WHERE a.close_price =
( SELECT min(b.close_price) FROM
engine_has_pattern.equity_data_has_pattern b
where 1=1
and b.row_id > input_shoulder_top_row_id
and b.row_id <= (input_shoulder_top_row_id + CALCULATED_RALLY_LOW_DURATION)
)
and a.row_id > input_shoulder_top_row_id
and a.row_id <= (input_shoulder_top_row_id + CALCULATED_RALLY_LOW_DURATION)

into target_row_id,target_row_date,target_close_price;

update engine_has_pattern.has_first_shoulder_data
set  first_shoulder_low_row_id = target_row_id,
first_shoulder_low_date = target_row_date,
first_shoulder_low_close_price = target_close_price
where first_shoulder_top_row_id = input_shoulder_top_row_id;


-- update head related low point details

SELECT a.row_id, a.curr_date, a. CLOSE_PRICE FROM engine_has_pattern.equity_data_has_pattern a
WHERE a.close_price =
( SELECT min(b.close_price) FROM
engine_has_pattern.equity_data_has_pattern b
where 1=1
and b.row_id > input_head_row_id
and b.row_id <= (input_head_row_id + CALCULATED_RALLY_LOW_DURATION)
)
and a.row_id > input_head_row_id
and a.row_id <= (input_head_row_id + CALCULATED_RALLY_LOW_DURATION)

into target_row_id,target_row_date,target_close_price;

update engine_has_pattern.has_first_shoulder_data
set  head_low_row_id = target_row_id,
head_low_date = target_row_date,
head_low_close_price = target_close_price
where first_shoulder_top_row_id = input_shoulder_top_row_id;







END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `find_has` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `find_has`(
symbol_in varchar(45),
duration_days INT,
startDate date,
endDate date,
prediction_type int,
input_pattern_type_id int)
BEGIN

call data_accumulation(symbol_in,startDate,endDate,duration_days);

call engine_has_pattern.find_rally_top(duration_days);

call engine_has_pattern.find_first_shoulder(duration_days);

call find_second_shoulder_for_has(symbol_in,duration_days);

call identify_all_has_pattern_type(duration_days,endDate);







END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `find_rally_top` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `find_rally_top`(
duration_days INT)
BEGIN

DECLARE HEAD_DUR_PERC_OF_RALLY float DEFAULT 0.0;

DECLARE CALCULATED_RALLY_TOP_DURATION int DEFAULT 0;


SELECT rule_value/100 FROM engine_has_pattern.has_pattern_rules
where rule_name = 'HEAD_DURATION_PERCENTAGE_OF_RALLY' into  HEAD_DUR_PERC_OF_RALLY;

SET CALCULATED_RALLY_TOP_DURATION =   ROUND(duration_days * HEAD_DUR_PERC_OF_RALLY );


delete from engine_has_pattern.equity_data_has_pattern_top_temp;

insert into engine_has_pattern.equity_data_has_pattern_top_temp(

SELECT distinct a.* FROM engine_has_pattern.equity_data_has_pattern a
where a.close_price >
(SELECT max(close_price) FROM engine_has_pattern.equity_data_has_pattern b
where DATEDIFF(a.curr_date,b.curr_date) <= duration_days
and DATEDIFF(a.curr_date,b.curr_date) > 0 )
) ;


delete from engine_has_pattern.equity_data_has_pattern_rally_top;

insert into engine_has_pattern.equity_data_has_pattern_rally_top(
SELECT distinct a.* FROM engine_has_pattern.equity_data_has_pattern_top_temp a
WHERE a.close_price >
( SELECT max(b.close_price) FROM
engine_has_pattern.equity_data_has_pattern b
where 1=1
and b.row_id - a.row_id <= CALCULATED_RALLY_TOP_DURATION
and b.row_id - a.row_id > 0
)
);


/*
insert into engine_has_pattern.equity_data_has_pattern_rally_top(
SELECT a.* FROM engine_has_pattern.equity_data_has_pattern_top_temp a
WHERE NOT EXISTS
( SELECT curr_date FROM
engine_has_pattern.equity_data_has_pattern_top_temp b
where 1=1
AND DATEDIFF(b.curr_date,a.curr_date) < duration_days
AND DATEDIFF(b.curr_date,a.curr_date) > 0
)
)
;
*/






END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `find_second_shoulder` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `find_second_shoulder`(
symbol_in varchar(45),
input_head_row_id int,
input_head_close_price float,
input_head_low_price float,
duration_days INT
)
BEGIN




  DECLARE HEAD_DUR_PERC_OF_RALLY float DEFAULT 0.0;

  DECLARE CALCULATED_HEAD_TO_SHOULDER_DURATION int DEFAULT 0;


  DECLARE var_has_id int;
  DECLARE var_first_shoulder_low_row_id int;
  DECLARE var_first_shoulder_low_close_price float;
  DECLARE var_first_shoulder_low_date date;
   DECLARE var_head_low_row_id int;
  DECLARE var_head_low_close_price float;


  -- DECLARE VAR_HEAD_ROW_ID INT DEFAULT 0;





SELECT rule_value/100 FROM engine_has_pattern.has_pattern_rules
where rule_name = 'HEAD_DURATION_PERCENTAGE_OF_RALLY' into  HEAD_DUR_PERC_OF_RALLY;

SET CALCULATED_HEAD_TO_SHOULDER_DURATION =    2 * ROUND(duration_days * HEAD_DUR_PERC_OF_RALLY );



replace into engine_has_pattern.equity_data_has_second_shoulder_top(

SELECT distinct input_head_row_id,a.* FROM engine_has_pattern.equity_data_has_pattern a
where a.close_price =
(SELECT max(close_price) FROM engine_has_pattern.equity_data_has_pattern b
where 1=1
and b.row_id > input_head_row_id
and b.row_id <= (input_head_row_id +  CALCULATED_HEAD_TO_SHOULDER_DURATION)
)
and a.CLOSE_PRICE < input_head_close_price
and a.CLOSE_PRICE > input_head_low_price
)
;

replace into engine_has_pattern.identified_has_data(
select null,symbol_in, a.*,null,null,null,null,null,null from   engine_has_pattern.has_first_shoulder_data a
where a.head_row_id = input_head_row_id);

update  engine_has_pattern.identified_has_data a, engine_has_pattern.equity_data_has_second_shoulder_top b
set a.second_shoulder_top_row_id = b.ROW_ID,
a.second_shoulder_top_date = b.CURR_DATE,
a.second_shoulder_top_close_price = b.CLOSE_PRICE
where a.head_row_id = b.head_row_id;

select a.has_id,a.first_shoulder_low_row_id,a.first_shoulder_low_close_price, a.first_shoulder_low_date,
a.head_low_row_id,a.head_low_close_price from engine_has_pattern.identified_has_data a
where a.head_row_id = input_head_row_id
into  var_has_id,var_first_shoulder_low_row_id,var_first_shoulder_low_close_price, var_first_shoulder_low_date,
var_head_low_row_id,var_head_low_close_price;


call engine_has_pattern.calculate_neckline_data(var_has_id,var_first_shoulder_low_row_id,var_first_shoulder_low_close_price,
var_first_shoulder_low_date,var_head_low_row_id,var_head_low_close_price,duration_days);


-- call engine_has_pattern.identify_has_pattern_type





END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `find_second_shoulder_for_has` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `find_second_shoulder_for_has`(
symbol_in varchar(45),
duration_days INT
)
BEGIN


  -- Declare variables used just for cursor and loop control
  DECLARE no_more_rows int;
  DECLARE loop_cntr INT DEFAULT 1;
  DECLARE num_rows INT DEFAULT 0;

  DECLARE current_head_close_price float DEFAULT 0;

  DECLARE current_head_row_id int DEFAULT 0;

  DECLARE current_head_low_price float DEFAULT 0;



    DECLARE has_first_shoulder_details CURSOR FOR
    SELECT DISTINCT
        head_row_id,head_close_price,head_low_close_price
        -- ,CURR_DATE,CLOSE_PRICE
    FROM engine_has_pattern.has_first_shoulder_data
    ORDER BY head_row_id ASC
;

  -- Declare 'handlers' for exceptions
  DECLARE CONTINUE HANDLER FOR NOT FOUND
    SET no_more_rows = 1;

delete from engine_has_pattern.equity_data_has_second_shoulder_top;

if (select max(has_id) from engine_has_pattern.identified_has_data) > 10000
then
ALTER TABLE engine_has_pattern.equity_data_has_pattern AUTO_INCREMENT =1;
end if;

delete from engine_has_pattern.identified_has_data;

delete from  engine_has_pattern.has_neckline_points;
delete from  engine_has_pattern.identified_has_neckline_data;



OPEN has_first_shoulder_details;

 IF no_more_rows = 1 THEN
 close has_first_shoulder_details;
 END IF;

find_second_shoulder_loop : LOOP

 IF no_more_rows = 1 THEN
 LEAVE find_second_shoulder_loop;
 END IF;

FETCH has_first_shoulder_details INTO current_head_row_id,current_head_close_price,current_head_low_price;

 IF no_more_rows = 1 THEN
 LEAVE find_second_shoulder_loop;
 END IF;

call find_second_shoulder(symbol_in,current_head_row_id,current_head_close_price,current_head_low_price,duration_days);

-- call find_second_shoulder_low(current_head_row_id,current_head_close_price,duration_days);
 IF no_more_rows = 1 THEN
 LEAVE find_second_shoulder_loop;
 END IF;

END LOOP find_second_shoulder_loop;


close has_first_shoulder_details;





END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `identify_all_has_pattern_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `identify_all_has_pattern_type`(
duration_days INT,
cut_off_date date)
BEGIN

  -- Declare variables used just for cursor and loop control
  DECLARE no_more_rows int;
  DECLARE loop_cntr INT DEFAULT 1;
  DECLARE num_rows INT DEFAULT 0;

  DECLARE var_has_id INT;
  DECLARE var_second_shoulder_top_row_id INT;
  DECLARE var_second_shoulder_top_date DATE;
  DECLARE var_second_shoulder_top_close_price FLOAT;

  DECLARE HEAD_DUR_PERC_OF_RALLY float DEFAULT 0.0;

  DECLARE CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION int DEFAULT 0;




      DECLARE identified_has_details CURSOR FOR
    SELECT DISTINCT
        has_id,second_shoulder_top_row_id, second_shoulder_top_date, second_shoulder_top_close_price
        -- ,CURR_DATE,CLOSE_PRICE
    FROM engine_has_pattern.identified_has_data
    ORDER BY has_id ASC
;

   -- Declare 'handlers' for exceptions
  DECLARE CONTINUE HANDLER FOR NOT FOUND
    SET no_more_rows = 1;

SELECT rule_value/100 FROM engine_has_pattern.has_pattern_rules
where rule_name = 'HEAD_DURATION_PERCENTAGE_OF_RALLY' into  HEAD_DUR_PERC_OF_RALLY;

SET CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION =    ROUND(2 * duration_days * HEAD_DUR_PERC_OF_RALLY );

delete from  engine_has_pattern.identified_has_pattern_type;

OPEN identified_has_details;

 IF no_more_rows = 1 THEN
 close identified_has_details;
 END IF;

find_second_shoulder__low_loop : LOOP

 IF no_more_rows = 1 THEN
 LEAVE find_second_shoulder__low_loop;
 END IF;

FETCH identified_has_details INTO var_has_id,var_second_shoulder_top_row_id,
                                    var_second_shoulder_top_date,var_second_shoulder_top_close_price;

 IF no_more_rows = 1 THEN
 LEAVE find_second_shoulder__low_loop;
 END IF;

call identify_has_pattern_type(duration_days,cut_off_date,var_has_id,var_second_shoulder_top_row_id,
                                    var_second_shoulder_top_close_price,
                                    CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION);

-- call find_second_shoulder_low(current_head_row_id,current_head_close_price,duration_days);
 IF no_more_rows = 1 THEN
 LEAVE find_second_shoulder__low_loop;
 END IF;

END LOOP find_second_shoulder__low_loop;


 close identified_has_details;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `identify_as_pattern_type_1_or_2` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `identify_as_pattern_type_1_or_2`(
input_endDate_row_id int,
input_has_id int,
input_second_shoulder_top_row_id int,
input_second_shoulder_top_close_price float,
CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION int
)
proc_label: BEGIN


declare var_shoulder_low_min_close_price float(10,2);

declare var_shoulder_low_min_row_id int;

declare var_shoulder_low_min_row_date date;




declare var_shoulder_low_slope float(10,2);

declare var_neckline_slope float(10,2);

declare var_effective_slope float(10,2);


declare price_diff_percentage float(10,2);


declare var_shoulder_top_neckline_price float(10,2);


declare var_shoulder_height_percentage float(10,2);

declare identified_as_type_2 boolean;






select min(CLOSE_PRICE) from engine_has_pattern.equity_data_has_pattern
where ROW_ID >  input_second_shoulder_top_row_id
and ROW_ID <=    input_endDate_row_id
into var_shoulder_low_min_close_price;

call identify_as_pattern_type_2(input_has_id,input_endDate_row_id, var_shoulder_low_min_close_price,
input_second_shoulder_top_row_id,identified_as_type_2);

if identified_as_type_2 = true
then

leave proc_label;

end if;


-- identify if pattern type 1 --


select ROW_ID,CURR_DATE from engine_has_pattern.equity_data_has_pattern
where ROW_ID >  input_second_shoulder_top_row_id
and ROW_ID <=    input_endDate_row_id
and FORMAT(CLOSE_PRICE,2)  = FORMAT(var_shoulder_low_min_close_price,2)
order by  ROW_ID desc
limit 1
into var_shoulder_low_min_row_id,var_shoulder_low_min_row_date;

select a.price_value from engine_has_pattern.has_neckline_points a
where a.has_id = input_has_id
and a.row_id = input_second_shoulder_top_row_id
into var_shoulder_top_neckline_price;

set  price_diff_percentage =  (var_shoulder_low_min_close_price - input_second_shoulder_top_close_price) * 100
                                /  input_second_shoulder_top_close_price;

set var_shoulder_low_slope =  price_diff_percentage/ (var_shoulder_low_min_row_id - input_second_shoulder_top_row_id);

select a.neckline_slope_value from engine_has_pattern.identified_has_neckline_data a
where a.has_id = input_has_id
into var_neckline_slope;

set var_effective_slope = var_shoulder_low_slope - var_neckline_slope;



set var_shoulder_height_percentage = (input_second_shoulder_top_close_price - var_shoulder_top_neckline_price) * 100/

                                                    input_second_shoulder_top_close_price;


if ((var_effective_slope * CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION)   + var_shoulder_height_percentage)  < 0

then

replace into engine_has_pattern.identified_has_pattern_type values(var_has_id,1);

update engine_has_pattern.identified_has_data a
set  second_shoulder_low_row_id = var_shoulder_low_min_row_id,
second_shoulder_low_date =  var_shoulder_low_min_row_date,
second_shoulder_low_close_price = var_shoulder_low_min_close_price
where has_id = input_has_id;

end if;







END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `identify_as_pattern_type_2` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `identify_as_pattern_type_2`(
input_has_id int,
input_endDate_row_id int,
input_shoulder_low_min_close_price float,
input_second_shoulder_top_row_id int,
out output_identified boolean
)
BEGIN

declare var_current_close_price float(10,2);

declare var_current_date date;

declare var_current_row_id int;



  -- Declare variables used just for cursor and loop control
  DECLARE no_more_rows int;
  DECLARE loop_cntr INT DEFAULT 1;
  DECLARE num_rows INT DEFAULT 0;

      DECLARE identified_neckline_points CURSOR FOR
    SELECT DISTINCT
           row_id,curr_date,price_value
        -- ,CURR_DATE,CLOSE_PRICE
    FROM engine_has_pattern.has_neckline_points a
    where   has_id = input_has_id
    and row_id > input_second_shoulder_top_row_id
    and row_id <= input_endDate_row_id
    ORDER BY curr_date ASC
;


  -- Declare 'handlers' for exceptions
  DECLARE CONTINUE HANDLER FOR NOT FOUND
    SET no_more_rows = 1;



OPEN identified_neckline_points;

 IF no_more_rows = 1 THEN
 close identified_neckline_points;
 END IF;

identified_neckline_points_loop : LOOP

 IF no_more_rows = 1 THEN
 LEAVE identified_neckline_points_loop;
 END IF;

FETCH identified_neckline_points INTO var_current_row_id,var_current_date,var_current_close_price;

 IF no_more_rows = 1 THEN
 LEAVE identified_neckline_points_loop;
 END IF;


 if (input_shoulder_low_min_close_price <=  var_current_close_price)
 then

replace into engine_has_pattern.identified_has_pattern_type values(input_has_id,2);

set output_identified = true;

update engine_has_pattern.identified_has_data a
set  second_shoulder_low_row_id = var_current_row_id,
second_shoulder_low_date =  var_current_date,
second_shoulder_low_close_price = var_current_close_price
where has_id = input_has_id;


end if;
 IF no_more_rows = 1 THEN
 LEAVE identified_neckline_points_loop;
 END IF;

END LOOP identified_neckline_points_loop;


 close identified_neckline_points;



END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `identify_has_pattern_type` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `identify_has_pattern_type`(
duration_days INT,
cut_off_date date,
input_has_id int,
input_second_shoulder_top_row_id int,
input_second_shoulder_top_close_price float,
CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION int)
proc_label: BEGIN

  DECLARE var_cut_off_date_row_id int;

select a.ROW_ID from engine_has_pattern.equity_data_has_pattern a
where a.CURR_DATE = cut_off_date into var_cut_off_date_row_id;

IF ((var_cut_off_date_row_id -  input_second_shoulder_top_row_id  = 0) AND duration_days <= 30)
THEN

replace into engine_has_pattern.identified_has_pattern_type values(var_has_id,1);

LEAVE proc_label;


END IF;


IF (var_cut_off_date_row_id -  input_second_shoulder_top_row_id <   (0.2 * CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION))
THEN

LEAVE proc_label;

END IF;

IF (var_cut_off_date_row_id -  input_second_shoulder_top_row_id <=   CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION)
THEN


call identify_as_pattern_type_1_or_2(var_cut_off_date_row_id,input_has_id,input_second_shoulder_top_row_id,
input_second_shoulder_top_close_price,
CALCULATED_SECOND_SHOULDER_TO_LOW_DURATION);

LEAVE proc_label;

-- calculate(

END IF;



END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `validate_market_sessions_data` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `validate_market_sessions_data`(
endDate date,
duration_days INT)
proc_label: BEGIN

declare max_session_date date;

declare target_session_date date;


declare max_session_date_sr_no int;

declare end_date_sr_no int;

declare max_session_date_row_id int;

declare loop_counter int;





select max(a.session_date) from engine_has_pattern.market_sessions a  into max_session_date;

set target_session_date =  date_add(endDate, INTERVAL (duration_days/2) day);

if max_session_date  < target_session_date
then

select max(a.row_id) from engine_has_pattern.market_sessions a  into max_session_date_row_id;


select a.SR_NO from engine_ea.market_sessions a
where a.SESSION_DATE =  max_session_date
into max_session_date_sr_no;

if (max_session_date_sr_no is null) then

leave proc_label;

end if;

set end_date_sr_no =  max_session_date_sr_no + round(5 * datediff(target_session_date,max_session_date)/7);

set loop_counter = 1;


fill_market_sessions : LOOP

 IF loop_counter > (end_date_sr_no - max_session_date_sr_no) THEN
 LEAVE fill_market_sessions;
 END IF;

replace INTO engine_has_pattern.market_sessions

(select (max_session_date_row_id + loop_counter),a.SESSION_DATE from engine_ea.market_sessions a
where a.SR_NO = (max_session_date_sr_no  + loop_counter)
)
;


 set loop_counter = loop_counter + 1;

 end  loop fill_market_sessions;


end if;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-06-04 12:42:09
